<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어휘끝 수능 단어 시험 (Unit 11-20)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        .correct-flash { animation: flash-green 0.5s; }
        .incorrect-flash { animation: flash-red 0.5s; }
        @keyframes flash-green { 50% { box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.5); } }
        @keyframes flash-red { 50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5); } }
        #toast { transition: opacity 0.3s, transform 0.3s; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div id="app-container" class="w-full max-w-2xl mx-auto bg-white shadow-xl rounded-lg p-4 sm:p-8">

        <!-- 사용자 정보 입력 화면 -->
        <div id="user-info-screen">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">사용자 정보 입력</h1>
            <p class="text-center text-gray-600 mb-8">결과 저장에 사용될 정보를 입력해주세요.</p>
            <div class="space-y-4">
                <div><label for="school-input" class="block text-sm font-medium text-gray-700">학교</label><input type="text" id="school-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 새싹고등학교"></div>
                <div><label for="grade-input" class="block text-sm font-medium text-gray-700">학년</label><input type="text" id="grade-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 1"></div>
                <div><label for="name-input" class="block text-sm font-medium text-gray-700">이름</label><input type="text" id="name-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 홍길동"></div>
            </div>
            <button id="start-app-button" class="w-full mt-8 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">시험 시작하기</button>
        </div>

        <!-- 유닛 선택 화면 -->
        <div id="unit-selection-screen" class="hidden">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">어휘끝 수능 단어 시험</h1>
            <p class="text-center text-gray-600 mb-8">시험 볼 유닛을 선택하세요. (Unit 11-20)</p>
            <div id="unit-buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
        </div>

        <!-- 단어 시험 화면 -->
        <div id="test-screen" class="hidden">
            <div class="flex justify-between items-center mb-6"><h2 id="test-title" class="text-xl sm:text-2xl font-bold"></h2><div id="timer" class="text-lg font-semibold text-red-500 bg-red-100 px-4 py-2 rounded-lg">10:00</div></div>
            <div class="mb-6"><div class="w-full bg-gray-200 rounded-full h-2.5"><div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full"></div></div><p id="progress-text" class="text-center text-sm text-gray-600 mt-2"></p></div>
            <div id="question-container" class="text-center p-6 bg-gray-50 rounded-lg"><p id="question-type" class="text-sm font-semibold text-blue-600 mb-2"></p><p id="question" class="text-2xl sm:text-3xl font-medium mb-6 min-h-[72px] flex items-center justify-center"></p><input type="text" id="answer-input" class="w-full p-3 border rounded-lg text-lg text-center" placeholder="정답을 입력하세요"></div>
            <button id="next-button" class="w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">다음</button>
        </div>

        <!-- 채점 결과 화면 -->
        <div id="results-screen" class="hidden">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-4">시험 결과</h2>
            <div id="score-container" class="text-5xl font-bold text-center py-8 mb-6 rounded-lg"><span id="final-score"></span><span class="text-3xl text-gray-500"> / 100</span></div>
            <h3 class="text-lg font-semibold mb-4">틀린 문제 목록</h3>
            <div class="overflow-x-auto border rounded-lg max-h-64">
                <table class="min-w-full divide-y"><thead class="bg-gray-50 sticky top-0"><tr><th class="px-4 py-3 text-left text-xs font-medium uppercase">문제</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">제출한 답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">정답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">점수</th></tr></thead><tbody id="incorrect-answers-body" class="bg-white divide-y"></tbody></table>
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
                <button id="save-results-button" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg">결과 저장</button>
                <button id="retry-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg">다시 풀기</button>
                <button id="home-button" class="w-full bg-gray-500 text-white font-bold py-3 rounded-lg">처음으로</button>
            </div>
        </div>
    </div>
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transform translate-y-5"></div>
    <script>
        const vocabularyData = {
            "Unit 11": [
                { word: "deterioration", meaning: "(상황 등의) 악화; 품질 저하; 퇴화" }, { word: "transcend", meaning: "초월하다, 능가하다" }, { word: "vain", meaning: "1. 헛된, 소용없는; 2. 자만심[허영심]이 강한" }, { word: "plausible", meaning: "(설명이) 타당한 것 같은, 그럴듯한" }, { word: "intrude", meaning: "1. (가서는 안 될 곳에) 자기 마음대로 가다, 침범하다; 2. 방해하다" }, { word: "discrete", meaning: "(같은 종류의 다른 것들과) 별개의; 분리된" }, { word: "consecutive", meaning: "연이은" }, { word: "outdo", meaning: "능가하다, ~보다 뛰어나다" }, { word: "weed", meaning: "잡초; 잡초를 뽑다" }, { word: "string", meaning: "1. 줄, 끈; (현악기의) 현; 2. 일련, 연속; 3. 조건, 단서" }, { word: "oral", meaning: "구두의, 입으로 하는 말의; 입[구강]의" }, { word: "formidable", meaning: "무시무시한, 가공할" }, { word: "imperative", meaning: "1. 반드시 해야 하는; 2. 명령적인; 명령법의; 1. 의무; 2. 명령법" }, { word: "tedious", meaning: "지루한, 따분한" }, { word: "linear", meaning: "(직)선의" }, { word: "ubiquitous", meaning: "어디에나 있는, 흔한" }, { word: "panel", meaning: "1. (목재, 유리, 금속 등으로 된) 판; 2. 천 조각; 3. 토론 위원; 패널" }, { word: "scroll", meaning: "(컴퓨터 화면을) 스크롤하다; 두루마리" }, { word: "aggregate", meaning: "총계, 총액; 총계의, 총합의; 총계[총액]가 ~이 되다" }, { word: "stack", meaning: "무더기, 더미; 쌓다" }, { word: "splash", meaning: "물을 끼얹다; 첨벙거리다; (떨어지는) 방울; 첨벙거리는 소리" }, { word: "mundane", meaning: "평범한, 재미없는" }, { word: "loop", meaning: "고리; 고리 모양으로 만들다" }, { word: "denial", meaning: "부인, 부정" }, { word: "resort", meaning: "의지하다; 1. 의지, 의존; 2. 휴양지, 리조트" }, { word: "pinpoint", meaning: "정확히 보여주다[찾아내다]; 정확한; 아주 작은 것" }, { word: "thesis", meaning: "1. 학위 논문; 2. 논지" }, { word: "neural", meaning: "신경(계통)의" }, { word: "generosity", meaning: "너그러움, 관대함" }, { word: "immerse", meaning: "1. (액체에) 담그다; 2. (~에) 몰두하다, 몰두하게 만들다" }, { word: "deem", meaning: "(~로) 여기다, 생각하다" }, { word: "disperse", meaning: "흩어지다, 분산시키다; 해산시키다" }, { word: "recharge", meaning: "(배터리를) 충전하다; (휴식으로 에너지 등을) 재충전하다" }, { word: "hollow", meaning: "속이 빈; 움푹 꺼진 곳; 속이 비게 만들다" }, { word: "come around", meaning: "1. (정기적으로) 돌아오다; 2. 의식이 돌아오다, 정신이 들다; 3. 방문하다" }, { word: "hang around", meaning: "어슬렁거리다, 서성거리다" }, { word: "look around", meaning: "(주위를) 둘러보다" }, { word: "turn around", meaning: "1. 몸을 돌리다, 돌아서다; 2. (의견, 태도 등이) 바뀌다; 3. (시장, 경제 등이) 호전되다, 회복시키다" }, { word: "lay aside", meaning: "~을 (한 쪽으로) 제쳐놓다[두다]" }, { word: "put[set] aside", meaning: "1. (감정, 의견 차이 등을) 무시하다, 제쳐놓다; 2. (나중에 쓸 수 있도록) 따로 떼어두다" }
            ],
            "Unit 12": [
                { word: "incomplete", meaning: "불완전한; 미완성의" }, { word: "invaluable", meaning: "매우 귀중한, 매우 유용한" }, { word: "ineffective", meaning: "효과[효력] 없는; 효과적이지 못한" }, { word: "indivisible", meaning: "나눌 수 없는, 분리될 수 없는" }, { word: "impersonal", meaning: "1. 특정 개인과 상관없는, 일반적인; 2. 인간미 없는" }, { word: "impartial", meaning: "공정한, 공평한" }, { word: "immemorial", meaning: "아주 먼 옛날의" }, { word: "illiterate", meaning: "1. 문맹의, 글을 읽고 쓸 줄 모르는; 2. (특정 분야에 대해) 잘 모르는" }, { word: "irresistible", meaning: "(매우 강력해서) 저항할 수 없는; 억누를 수 없는" }, { word: "unequal", meaning: "1. (크기, 양 등이) 같지 않은; 2. 불공평한" }, { word: "unreasonable", meaning: "1. 불합리한; 2. (가격, 요구 등이) 부당한, 터무니없는" }, { word: "unearth", meaning: "1. 발굴하다, 파내다; 2. 찾다, 밝혀내다" }, { word: "disapprove", meaning: "찬성하지 않다, 못마땅하다" }, { word: "disobey", meaning: "불복종하다, 거역하다" }, { word: "disharmony", meaning: "부조화, 불화; 불협화음" }, { word: "disprove", meaning: "틀렸음을 증명하다, 반박하다" }, { word: "disclose", meaning: "드러내다, 밝히다" }, { word: "dishonor", meaning: "불명예; 1. 명예를 잃게 하다; 2. (약속을) 어기다" }, { word: "decode", meaning: "(암호 등을) 해독하다; 이해하다" }, { word: "demerit", meaning: "1. 단점, 결점; 2. (성적표 등에 기재되는) 벌점" }, { word: "deform", meaning: "(기형으로) 변형시키다; 흉하게 만들다" }, { word: "degenerate", meaning: "악화하다; 1. 악화된; 2. 퇴폐적인, 타락한" }, { word: "antisocial", meaning: "1. 반사회적인; 2. 사람들과 잘 어울리지 못하는, 비사교적인" }, { word: "antibacterial", meaning: "세균에 저항하는, 항균성의" }, { word: "antibody", meaning: "항체" }, { word: "counteract", meaning: "(악영향에) 대응하다; (효력을) 없애다" }, { word: "counterclockwise", meaning: "시계 반대 방향의, 왼쪽으로 도는; 시계 반대 방향으로" }, { word: "counterattack", meaning: "역습하다, 반격하다; 역습, 반격" }, { word: "maladaptive", meaning: "부적응의, 적응성이 없는" }, { word: "malfunction", meaning: "오작동, 고장; 제대로 작동하지 않다" }, { word: "misfortune", meaning: "불운, 불행" }, { word: "misdeed", meaning: "나쁜 짓, 악행" }, { word: "mislead", meaning: "잘못 인도하다; 오해하게 하다" }, { word: "misplace", meaning: "제자리에 두지 않다, 잘못 두다" }, { word: "mistrust", meaning: "불신하다, 신뢰하지 않다; 불신" }, { word: "come over", meaning: "1. (특히 누구의 집에) 들르다; 2. (격한 감정이) 밀려오다, 엄습하다" }, { word: "get over", meaning: "1. (불쾌한 상황, 감정을) 극복하다; 2. 처리하다, 해결하다" }, { word: "give over to", meaning: "1. (~에게) 넘기다, 양도하다; 2. (특정한 목적을 위해) 사용하다" }, { word: "go over", meaning: "1. 검토하다, 면밀히 살피다; 2. (반복해서) 연습하다, 복습하다" }, { word: "look over", meaning: "(빠르게 대충) 훑어보다, 살펴보다" }
            ],
            "Unit 13": [
                { word: "intake", meaning: "1. 섭취(량); 2. 흡입(구)" }, { word: "inborn", meaning: "선천적인, 타고난" }, { word: "immigrate", meaning: "(다른 나라로) 이민 오다, 이주해 오다" }, { word: "emigrate", meaning: "(다른 나라로) 이민 가다, 이주해 가다" }, { word: "exterminate", meaning: "근절하다, 몰살하다, 모조리 없애버리다" }, { word: "outstanding", meaning: "눈에 띄는, 두드러진; 아주 훌륭한" }, { word: "outline", meaning: "1. 윤곽; 2. 개요; 1. 윤곽을 나타내다; 2. 개요를 말하다" }, { word: "outbreak", meaning: "(전쟁, 질병 등의 갑작스런) 발생, 발발" }, { word: "outlaw", meaning: "불법화하다, 금지하다" }, { word: "outweigh", meaning: "(~보다) 더 크다, (~보다) 대단하다" }, { word: "outgrow", meaning: "(몸이 커져서 옷 등이) 맞지 않게 되다, (~보다) 더 커지다" }, { word: "outrun", meaning: "1. (~보다) 더 빨리[멀리] 달리다; 2. 넘어서다, 웃돌다" }, { word: "outperform", meaning: "더 나은 결과를 내다, 능가하다" }, { word: "outlast", meaning: "(~보다) 더 오래가다[견디다]" }, { word: "outdated", meaning: "구식인, 시대에 뒤처진" }, { word: "outlive", meaning: "(~보다) 더 오래 살다, (~보다) 더 오래 지속되다" }, { word: "utmost", meaning: "최대(한)의, 최고(도)의, 극도의" }, { word: "interpersonal", meaning: "대인관계에 관련된" }, { word: "intersection", meaning: "교차로, 교차 지점" }, { word: "interdependent", meaning: "상호의존적인" }, { word: "interchange", meaning: "1. 교환; 2. (고속도로의) 인터체인지, 분기점; 교환하다" }, { word: "underlie", meaning: "(~의) 기초가 되다, 기저를 이루다" }, { word: "underestimate", meaning: "과소평가하다, (비용을) 너무 적게 잡다; 과소평가" }, { word: "undergo", meaning: "경험하다, 겪다" }, { word: "subconscious", meaning: "잠재의식적인, 어렴풋이 의식하는; 잠재의식" }, { word: "subtitle", meaning: "1. 부제; 2. 자막" }, { word: "transplant", meaning: "이식하다; (식물을) 옮겨 심다; 이식" }, { word: "telecommute", meaning: "(통신 시설을 이용하여) 재택 근무하다" }, { word: "adjust", meaning: "1. 조정하다, 맞추다; 2. 적응하다, 순응하다" }, { word: "accompany", meaning: "1. 동반하다, 동행하다; 2. 반주하다" }, { word: "accumulate", meaning: "축적하다, 모으다" }, { word: "allocate", meaning: "배분하다, 할당하다" }, { word: "affirm", meaning: "단언하다, 주장하다" }, { word: "prolong", meaning: "연장하다, 늘리다" }, { word: "pull over", meaning: "(차를) 길 한쪽에 대다" }, { word: "run over", meaning: "1. (차로) 치다; 2. (액체가) 넘치다" }, { word: "stop over", meaning: "잠시 머무르다; 경유하다" }, { word: "take over", meaning: "(책임, 의무 등을) 넘겨받다, 이어받다" }, { word: "think over", meaning: "숙고하다" }, { word: "turn over", meaning: "1. 뒤집다; 2. (권리, 책임 등을) 넘겨주다" }
            ],
            "Unit 14": [
                { word: "preview", meaning: "시사회; 예고편; (시사, 시연 따위를) 보이다" }, { word: "premature", meaning: "시기상조의, 너무 이른" }, { word: "precaution", meaning: "예방(책); 경계, 조심" }, { word: "predominant", meaning: "우세한, 지배적인; 두드러진" }, { word: "predetermine", meaning: "미리 결정하다, 예정하다" }, { word: "foretell", meaning: "예언하다, 예고하다" }, { word: "foremost", meaning: "가장 유명한, 으뜸가는" }, { word: "foresee", meaning: "예견하다, 예지하다" }, { word: "forefather", meaning: "선조, 조상" }, { word: "forecast", meaning: "예보, 예측; 예보하다, 예측하다" }, { word: "foreshadow", meaning: "조짐을 나타내다, 전조가 되다" }, { word: "overtake", meaning: "1. 추월하다; 능가하다; 2. (불행 등이) 엄습하다, 갑자기 덮치다" }, { word: "overdue", meaning: "지불 기한이 지난, 연체의" }, { word: "overhear", meaning: "(남의 대화 등을) 우연히 듣다; 엿듣다" }, { word: "overestimate", meaning: "과대평가; 과대평가하다" }, { word: "overwork", meaning: "과로; 과로하다, 과로시키다" }, { word: "overflow", meaning: "범람; 범람하다; 넘치다" }, { word: "overhead", meaning: "머리 위로, 머리 위에; 머리 위의" }, { word: "overview", meaning: "개요, 개관" }, { word: "oversee", meaning: "감독하다, 감시하다" }, { word: "surpass", meaning: "능가하다, 뛰어넘다" }, { word: "surmount", meaning: "극복하다, 이겨내다" }, { word: "reaction", meaning: "1. 반응; 2. 반발, 반작용" }, { word: "reform", meaning: "개혁, 개선; 개혁하다, 개선하다" }, { word: "remodel", meaning: "(건물 등을) 개조하다, 리모델링하다" }, { word: "reproduce", meaning: "1. 재생[재현]하다; 복제하다; 2. (동식물이) 번식하다" }, { word: "renew", meaning: "1. 갱신하다, (계약 등의) 기한을 연장하다; 2. 재개하다, 다시 시작하다" }, { word: "rebuild", meaning: "(건물 등을) 재건하다, 다시 세우다" }, { word: "recreate", meaning: "1. 재현하다, 되살리다; 2. 기운을 회복시키다" }, { word: "reunite", meaning: "재결합하다; 재회하다" }, { word: "recollect", meaning: "회상하다, 생각해내다" }, { word: "reunion", meaning: "1. 재회; 재결합; 2. 동창회, (오랜만의) 모임" }, { word: "ask out", meaning: "데이트 신청하다" }, { word: "break out", meaning: "1. 발생하다, 발발하다; 2. 탈출하다, 벗어나다" }, { word: "bring out", meaning: "1. (재능, 특징 등을) 끌어내다; 2. 출시하다, 출판하다" }, { word: "burn out", meaning: "1. 다 타서 없어지다; 2. 완전히 지치다" }, { word: "burst out", meaning: "1. 갑자기 ~하기 시작하다; 2. 외치다, 버럭 소리를 지르다" }, { word: "carry out", meaning: "실행하다, 수행하다; 완수하다" }, { word: "check out", meaning: "1. 확인하다; 2. (호텔에서) 체크아웃하다; 3. (책 등을) 대출하다" }, { word: "drop out (of)", meaning: "1. 사라지다; 떨어져 나가다; 2. (도중에) 그만두다" }
            ],
            "Unit 15": [
                { word: "compassion", meaning: "동정(심), 연민" }, { word: "compromise", meaning: "타협, 절충; 타협하다, 절충하다" }, { word: "compile", meaning: "(여러 출처에서 자료를 따와) 엮다, 편집하다" }, { word: "consequence", meaning: "1. 결과; 2. 중요성, 중대함" }, { word: "contemporary", meaning: "1. 같은 시대의; 2. 현대의, 당대의; 같은 시대의 사람" }, { word: "confront", meaning: "(문제에) 직면하다, 맞서다" }, { word: "conform", meaning: "1. (관습, 규칙 등에) 순응하다, 따르다; 2. 일치하다" }, { word: "consolidate", meaning: "1. 통합하다; 2. (권력, 지위 등을) 굳히다, 강화하다" }, { word: "configuration", meaning: "배열, 배치" }, { word: "concentrate", meaning: "1. 집중하다, 집중시키다; 2. 농축하다; 농축물" }, { word: "correspond", meaning: "1. 일치하다, 부합하다; 2. 상응하다, 해당하다; 3. 편지[소식]를 주고받다" }, { word: "correlation", meaning: "상관관계, 연관성" }, { word: "coexist", meaning: "(같은 장소에) 공존하다, 동시에 존재하다" }, { word: "cooperation", meaning: "협력; 협조" }, { word: "endanger", meaning: "위험에 빠뜨리다, 위태롭게 하다" }, { word: "enrich", meaning: "1. 부유하게 하다; 2. (질, 가치, 맛 등을) 높이다; 풍요롭게 하다" }, { word: "enlarge", meaning: "확대하다, 확장하다" }, { word: "enlighten", meaning: "(설명하여) 이해시키다, 깨우치다; 계몽하다" }, { word: "enroll / enrol", meaning: "등록하다; 입학[입회]시키다" }, { word: "encode", meaning: "부호화하다, 암호로 바꾸다" }, { word: "envision", meaning: "(바라는 일을) 마음속에 그리다, 상상하다" }, { word: "entrust", meaning: "위임하다, 맡기다" }, { word: "entitle", meaning: "1. 제목을 붙이다; 2. 자격[권리]을 주다" }, { word: "enforce", meaning: "1. (법을) 집행하다, 시행하다; 2. 강요하다" }, { word: "encompass", meaning: "1. 포함하다, 아우르다; 2. 둘러싸다, 에워싸다" }, { word: "empower", meaning: "(~할) 권한[자격]을 주다; ~할 수 있도록 하다" }, { word: "multitask", meaning: "다중 작업을 하다, 동시에 여러 가지 일을 하다" }, { word: "multitude", meaning: "1. 다수, 대량; 2. 군중, 많은 사람" }, { word: "multicultural", meaning: "다문화의, 여러 문화가 공존하는" }, { word: "drown out", meaning: "(소음이) ~을 들리지 않게 하다" }, { word: "figure out", meaning: "1. 산출[계산]하다; 2. 알아내다; 이해하다" }, { word: "hand out", meaning: "나눠주다, 배포하다" }, { word: "lay out", meaning: "1. (보기 쉽게) 펼치다, 배치하다; 2. 자세히 설명하다" }, { word: "leave out", meaning: "빼다, 배제시키다" }, { word: "make out", meaning: "1. 알아내다; 이해하다; 2. (잘)해 나가다, 성공하다" }, { word: "pass out", meaning: "1. 나눠주다; 2. 의식을 잃다, 기절하다" }, { word: "pick out", meaning: "1. 고르다, 집어내다; 2. 알아내다, 분간하다" }, { word: "point out", meaning: "지적하다, 가리키다" }, { word: "put out", meaning: "1. (밖으로) 내놓다; 출시하다; 2. (불을) 끄다" }, { word: "rule out", meaning: "제외시키다, 배제하다" }
            ],
            "Unit 16": [
                { word: "heighten", meaning: "고조시키다, 고조되다" }, { word: "broaden", meaning: "넓어지다; 넓히다" }, { word: "exemplify", meaning: "예를 들다; 전형적인 예가 되다" }, { word: "individualize", meaning: "개개인의 요구에 맞추다, 개별화하다" }, { word: "differentiate", meaning: "구별하다, 구분 짓다" }, { word: "liberate", meaning: "해방시키다; 자유롭게[벗어나게] 해주다" }, { word: "countless", meaning: "무수한, 셀 수 없이 많은" }, { word: "defenseless", meaning: "무방비의; 방어할 수 없는" }, { word: "iconic", meaning: "상징[아이콘]이 되는" }, { word: "injurious", meaning: "손상을 주는, 해로운" }, { word: "habitual", meaning: "습관적인" }, { word: "fictional", meaning: "허구적인; 소설의" }, { word: "childish", meaning: "1. 어린애 같은; 2. 유치한" }, { word: "sensory", meaning: "감각의, 지각의" }, { word: "collaborative", meaning: "공동의, 협력하는" }, { word: "timely", meaning: "시기적절한, 때맞춘" }, { word: "handy", meaning: "1. 유용한, 편리한; 2. 가까운[이용하기 편한] 곳에 있는; 3. 손재주가 있는" }, { word: "troublesome", meaning: "골치 아픈, 성가신" }, { word: "worrisome", meaning: "걱정스럽게 만드는, 걱정스러운" }, { word: "observer", meaning: "1. 관찰자, 감시자; 2. (회의 등의) 참관인" }, { word: "migrant", meaning: "1. 이주자; 2. 철새; (계절에 따라) 이동하는 동물" }, { word: "revolutionary", meaning: "혁명가; 혁명의, 혁명적인" }, { word: "attendee", meaning: "참석자, 출석자" }, { word: "estimation", meaning: "(가치, 자질에 대한) 판단, 평가; 추산" }, { word: "domination", meaning: "1. 지배, 통치; 2. 우세" }, { word: "approximation", meaning: "근사(치); 비슷한[가까운] 것" }, { word: "dependence", meaning: "의존(성), 의지" }, { word: "artistry", meaning: "예술적 기교; 예술성" }, { word: "mastery", meaning: "1. 숙달, 통달; 2. 지배(력)" }, { word: "immediacy", meaning: "신속성, 긴급성; 직접성" }, { word: "presidency", meaning: "대통령 임기[직]; 회장 임기[직]" }, { word: "companionship", meaning: "동료애, 동지애, 우정" }, { word: "egocentrism", meaning: "자기중심(성)" }, { word: "run out (of)", meaning: "다 써버리다; (물건이) 동나다" }, { word: "set out", meaning: "1. 출발하다; (목표, 목적 등을 위해) 착수하다, 시작하다; 2. 진열하다, 준비하다" }, { word: "stand out", meaning: "두드러지다, 눈에 띄다" }, { word: "turn out", meaning: "1. 모습을 드러내다, 나타나다; 2. (~인 것으로) 드러나다, 밝혀지다; 3. 만들어내다, 생산하다; 4. (불 등을) 끄다" }, { word: "wear out", meaning: "1. 닳다, 닳게 하다; 2. 지치게 하다" }, { word: "wipe out", meaning: "1. 파괴하다, 완전히 없애다; 2. 녹초로 만들다, 지치게 하다" }, { word: "work out", meaning: "1. (일이) 잘 되어가다; 2. (문제를) 해결하다; (해결책을) 찾다; 3. 운동하다; 4. 계산하다" }
            ],
            "Unit 17": [
                { word: "degrade", meaning: "1. (질, 가치 등을) 저하시키다; 2. 비하하다" }, { word: "ingredient", meaning: "1. (특히 요리의) 재료, 성분; 2. 구성 요소" }, { word: "aggressive", meaning: "1. 공격적인; 2. (대단히) 적극적인" }, { word: "regress", meaning: "퇴보하다, 퇴행하다" }, { word: "congress", meaning: "1. (대표자, 위원) 회의, 회합; 2. (미국의) 의회, 국회" }, { word: "progressive", meaning: "1. 진보적인; 2. 점진적인" }, { word: "precede", meaning: "선행하다, (~보다) 먼저 일어나다" }, { word: "recede", meaning: "1. (서서히) 물러나다; 멀어지다; 2. 약해지다, 희미해지다" }, { word: "proceed", meaning: "1. (특정 방향으로) 가다, 향하다; 2. 계속되다, 진행하다" }, { word: "process", meaning: "과정, 절차; 처리하다; 가공하다" }, { word: "predecessor", meaning: "전임자; 이전의 것" }, { word: "deceased", meaning: "(최근에) 사망한, 고인이 된" }, { word: "evade", meaning: "피하다, 모면하다" }, { word: "pervasive", meaning: "스며드는, 만연한" }, { word: "convention", meaning: "1. 회의; (대규모) 집회; 2. (국가, 지도자 간의) 조약, 협약; 3. 관습, 관례" }, { word: "advent", meaning: "(중요한 사건, 인물의) 출현, 도래" }, { word: "venture", meaning: "모험(적 사업); 위험을 무릅쓰고 ~을 하다" }, { word: "intervene", meaning: "1. (다른 사람이 말하는 데) 끼어들다, 가로막다; 2. 중재하다; 개입하다" }, { word: "emit", meaning: "(빛, 가스, 냄새 등을) 내뿜다, 발산하다" }, { word: "submit", meaning: "1. (서류 등을) 제출하다; 2. 복종하다, 굴복하다" }, { word: "omit", meaning: "빠뜨리다; 생략하다" }, { word: "transmit", meaning: "1. 전송하다; 2. (병을) 전염시키다; 3. (지식 등을) 전하다; 4. (열, 전기 등을) 전도하다" }, { word: "intermittent", meaning: "간헐적인, 간간이 일어나는" }, { word: "intermission", meaning: "(연극, 연주회 등의) 중간 휴식 시간; 중지" }, { word: "dismiss", meaning: "1. 내쫓다, 해고하다; 2. (집회 등을) 해산시키다; 3. 묵살하다, 무시하다" }, { word: "infer", meaning: "추론하다, 추측하다" }, { word: "confer", meaning: "1. 협의하다, 상의하다; 2. (상, 학위 등을) 수여하다, 주다" }, { word: "recur", meaning: "재발하다, 다시 발생하다" }, { word: "extracurricular", meaning: "과외의, 정규교육과정 외의" }, { word: "concur", meaning: "1. 동의하다, 일치하다; 2. 동시에 일어나다" }, { word: "incur", meaning: "1. (좋지 못한 상황을) 가져오다; 2. (비용을) 발생시키다; 물게 되다" }, { word: "impede", meaning: "(진행을) 지연시키다, 방해하다" }, { word: "call on", meaning: "1. (짧게) 방문하다; 2. 요구하다, 부탁하다" }, { word: "carry on", meaning: "(행동, 일 등을) 계속하다, 계속 가다" }, { word: "catch on", meaning: "1. 유행하다, 인기를 얻다; 2. 이해하다" }, { word: "count on", meaning: "의지하다, 믿다" }, { word: "dwell on[upon]", meaning: "연연하다, (오랫동안) 깊이 생각하다" }, { word: "get on with", meaning: "1. 계속해나가다; 2. (~와) 사이좋게 지내다" }, { word: "hang on (to)", meaning: "1. 꽉 붙잡다; 매달리다; 2. 고수하다; 3. (~에) 달려있다; 4. (전화를 끊지 않고) 기다리다" }, { word: "hit on[upon]", meaning: "(좋은 생각 등이) 불현듯[우연히] 떠오르다" }
            ],
            "Unit 18": [
                { word: "aspect", meaning: "(측)면, 양상" }, { word: "prospect", meaning: "1. 전망, 경치; 2. 가망, 가능성; 예상; 3. (성공할) 전망" }, { word: "inspect", meaning: "점검하다, 검사하다" }, { word: "retrospect", meaning: "회상, 회고" }, { word: "introspective", meaning: "자기 성찰적인" }, { word: "specification", meaning: "설명서, 설계서; 사양" }, { word: "suspicious", meaning: "1. 의심스러운, 수상쩍은; 2. 의심스러워하는, 못 미더워하는" }, { word: "speculate", meaning: "깊이 생각하다; 추측[짐작]하다" }, { word: "spectator", meaning: "(특히 스포츠 행사의) 관중" }, { word: "supervise", meaning: "감독하다, 관리하다" }, { word: "revise", meaning: "변경하다, 수정하다; 개정하다" }, { word: "improvise", meaning: "즉흥적으로 하다, 즉석에서 만들다" }, { word: "visual", meaning: "시각의, (눈으로) 보는; 눈에 보이는" }, { word: "provision", meaning: "1. 제공, 공급; 2. 준비, 대비; 3. (특히 장거리 여정을 위한) 식량; 4. (법률 문서의) 규정, 조항" }, { word: "auditory", meaning: "청각의, 귀의" }, { word: "auditorium", meaning: "객석; 강당" }, { word: "audible", meaning: "잘 들리는, 들을 수 있는" }, { word: "ascribe", meaning: "(원인 등을 ~에) 돌리다; 탓으로 돌리다" }, { word: "describe", meaning: "묘사하다, 서술하다" }, { word: "subscribe", meaning: "구독하다; (유료 채널 등에) 가입하다" }, { word: "inscribe", meaning: "(이름 등을) 새기다, 쓰다" }, { word: "transcribe", meaning: "1. (생각, 말을 글로) 기록하다; 2. (다른 형태로) 바꿔 쓰다" }, { word: "autograph", meaning: "(유명인의) 사인; (유명인이) 사인을 해주다" }, { word: "telegraph", meaning: "전보; 전보를 보내다" }, { word: "diagram", meaning: "(주로 선으로 구성된) 도해; 도식; 도표" }, { word: "multiply", meaning: "1. 곱하다; 2. 크게 증가하다; 3. 번식하다" }, { word: "complicate", meaning: "복잡하게 만들다, 복잡하게 되다" }, { word: "implicit", meaning: "암시된, 내포된" }, { word: "explicit", meaning: "명백한, 뚜렷한" }, { word: "replicate", meaning: "복제하다, 모사하다" }, { word: "contradict", meaning: "1. 반박하다, 부정하다; 2. 모순되다" }, { word: "dictate", meaning: "1. 받아쓰게 하다; 2. 명령하다, 지시하다; 3. 좌우하다, 영향을 주다; 명령, 지시" }, { word: "dedicate", meaning: "1. 전념[헌신]하다; 2. 헌정하다, 바치다" }, { word: "hold on (to)", meaning: "1. 붙잡다; 견디다; 2. 유지하다; 고수하다; 3. (전화를 끊지 않고) 기다리다" }, { word: "let on", meaning: "(비밀 등을) 말하다; 누설하다, 폭로하다" }, { word: "live on", meaning: "1. 계속 살다, 존재하다; 2. (~을) 주식으로 하다[먹고살다]" }, { word: "take on", meaning: "1. (의미, 중요성을) 가지다; (특질을) 띠다; 2. (일을) 떠맡다" }, { word: "tell on", meaning: "1. 고자질하다; 2. (특히 안 좋은) 영향을 미치다" }, { word: "wait on", meaning: "1. 기다리다; 2. 식사를 내오다; 3. 돌보다, 시중을 들다" }, { word: "work on", meaning: "(해결, 개선을 위해) 애쓰다[공들이다], 노력을 들이다" }
            ],
            "Unit 19": [
                { word: "artifact / artefact", meaning: "(역사적 의의가 있는) 인공물, 유물" }, { word: "magnificent", meaning: "훌륭한, 장엄한" }, { word: "counterfeit", meaning: "위조의, 가짜의; 위조하다, 모조하다" }, { word: "feasible", meaning: "실현 가능한" }, { word: "defect", meaning: "결점, 결함; 장애; 망명하다" }, { word: "proficient", meaning: "능숙한, 숙달된" }, { word: "sacrifice", meaning: "1. 희생하다, 포기하다; 2. 제물을 바치다; 1. 희생; 2. 제물" }, { word: "manual", meaning: "손으로 하는, 수동의; 육체를 쓰는; 설명서" }, { word: "manuscript", meaning: "1. (책, 악보 등의) 원고; 2. 필사본, 손으로 쓴 것" }, { word: "manipulate", meaning: "1. (기계 등을) 조작하다, 잘 다루다; 2. (여론 등을 교묘하게) 조종[조작]하다" }, { word: "convert", meaning: "1. (형태 등을) 전환하다, 개조하다; 2. 개종하다" }, { word: "extrovert", meaning: "외향적인 사람" }, { word: "invert", meaning: "(아래위를) 뒤집다, (순서를) 도치시키다" }, { word: "diverse", meaning: "다양한, 가지각색의" }, { word: "reverse", meaning: "(정반대로) 뒤바꾸다, 반전시키다; 1. 뒷면; 2. 반대; 반대의" }, { word: "version", meaning: "1. (어떤 것의) -판, 형태; 2. (개인의) 설명, 견해" }, { word: "adverse", meaning: "반대하는, 거스르는; 불리한" }, { word: "converse", meaning: "정반대, 역; 정반대의; 대화하다, 담화하다" }, { word: "traverse", meaning: "가로지르다, 횡단[관통]하다; 횡단" }, { word: "confine", meaning: "1. 제한하다, 국한시키다; 2. 가두다, 감금하다" }, { word: "definite", meaning: "명확한, 확실한; 확신하는" }, { word: "infinite", meaning: "무한한, 한계가 없는" }, { word: "receptive", meaning: "수용적인, 잘 받아들이는" }, { word: "susceptible", meaning: "(~에) 영향을 받기 쉬운, 취약한; 민감한" }, { word: "intercept", meaning: "(중간에) 가로막다; 가로채다" }, { word: "captivate", meaning: "(~의) 마음을 사로잡다" }, { word: "capable", meaning: "1. 할 수 있는; 2. 유능한" }, { word: "conceive", meaning: "1. 상상하다, (생각 등을) 마음에 품다; 2. 임신하다" }, { word: "deceive", meaning: "기만하다, 속이다" }, { word: "receipt", meaning: "1. 영수증; 2. 수령, 받기" }, { word: "conceit", meaning: "자만심, 자부심" }, { word: "anticipate", meaning: "1. 예상하다; 2. 기대하다, 고대하다" }, { word: "maintain", meaning: "1. (건물, 기계 등을) 유지하다; 2. (관계 등을) 지속하다; 3. 주장하다" }, { word: "abstain", meaning: "삼가다, 절제하다" }, { word: "conserve", meaning: "보존[유지]하다, 보호하다; (자원 등을) 아껴 쓰다" }, { word: "bring about", meaning: "초래하다, 유발하다" }, { word: "go about", meaning: "1. 시작하다, 착수하다; 2. (하던 대로) 계속하다" }, { word: "see about", meaning: "1. 고려하다; (결정하기 전에) 검토하다; 2. 돌보다" }, { word: "come across", meaning: "1. 우연히 마주치다; 2. (특정한) 인상을 주다; 3. 이해되다" }, { word: "get across", meaning: "이해시키다, 의미가 전달되다" }
            ],
            "Unit 20": [
                { word: "biology", meaning: "1. 생물학; 2. 생명 작용[활동]" }, { word: "antibiotic", meaning: "항생제, 항생물질" }, { word: "biofuel", meaning: "(자연에서 얻는) 바이오 연료, 생물 연료" }, { word: "biotech(nology)", meaning: "생명 공학, 인간 공학" }, { word: "bioethics", meaning: "생명 윤리(학)" }, { word: "biosphere", meaning: "생물권" }, { word: "symbiotic", meaning: "공생의, 공생하는" }, { word: "autobiography", meaning: "자서전" }, { word: "vital", meaning: "1. 필수적인; 2. 활력이 넘치는" }, { word: "revive", meaning: "1. 활기를 되찾다, 회복하다; 2. (연극 등을) 재공연하다" }, { word: "vivid", meaning: "생생한, 선명한" }, { word: "vigorous", meaning: "원기 왕성한; 활발한, 격렬한" }, { word: "genuine", meaning: "진짜의, 진품의; 진실한, 진심의" }, { word: "ingenuity", meaning: "기발한 재주, 독창성" }, { word: "gender", meaning: "성, 성별" }, { word: "generalize", meaning: "일반화하다; 보편화하다" }, { word: "generic", meaning: "포괄적인, 총칭[통칭]의" }, { word: "inspire", meaning: "1. 격려하다, 용기를 북돋우다; 2. 영감을 주다" }, { word: "aspire", meaning: "열망하다, 바라다" }, { word: "expire", meaning: "(정해진 기간이) 만료되다, 끝나다" }, { word: "conspire", meaning: "1. 공모하다, 음모를 꾸미다; 2. (난처한 일이) 동시에 일어나다" }, { word: "territorial", meaning: "영토의; 세력권을 주장하는" }, { word: "terrestrial", meaning: "1. 지구의; 2. 육지의; 육지에 사는" }, { word: "geography", meaning: "1. 지리학; 2. 지리, 지형" }, { word: "geometry", meaning: "기하학; 기하학적 구조" }, { word: "geothermal", meaning: "지열의" }, { word: "astronomy", meaning: "천문학" }, { word: "astrology", meaning: "점성술, 점성학" }, { word: "asteroid", meaning: "소행성" }, { word: "disastrous", meaning: "처참한, 피해가 막심한" }, { word: "anniversary", meaning: "(해마다 돌아오는) 기념일" }, { word: "millennium", meaning: "천 년; 새 천 년이 시작되는 시기" }, { word: "chronological", meaning: "(여러 사건이) 발생 순서대로 된, 연대순의" }, { word: "synchronize", meaning: "동시에 발생하다, 동시에 움직이다" }, { word: "come up against", meaning: "직면하다; 대립하다" }, { word: "go against", meaning: "1. 거스르다; 반대하다; 2. (~에게) 불리하다" }, { word: "come along", meaning: "1. 나타나다, 도착하다; 2. 동행하다, 함께 가다" }, { word: "get along", meaning: "1. (~와) 사이좋게 지내다; 2. (일 등을) 해나가다, (일이) 되어가다" }, { word: "go along (with)", meaning: "1. 동행하다; 2. 나아가다, 진전되다; 3. (~에) 동조하다, 찬성하다" }, { word: "play along (with)", meaning: "1. 동조하다, 협력하다; 2. (~에) 동의[동조]하는 체하다" }
            ]
        };
        // --- 이하 스크립트 코드는 이전 앱들과 동일 ---
        let userInfo = {};
        let currentUnit='',questions=[],currentQuestionIndex=0,userAnswers=[],timerInterval;
        const userInfoScreen = document.getElementById('user-info-screen');
        const unitSelectionScreen=document.getElementById('unit-selection-screen');
        const testScreen=document.getElementById('test-screen');
        const resultsScreen=document.getElementById('results-screen');
        const schoolInput = document.getElementById('school-input');
        const gradeInput = document.getElementById('grade-input');
        const nameInput = document.getElementById('name-input');
        const startAppButton = document.getElementById('start-app-button');
        const unitButtonsContainer=document.getElementById('unit-buttons');
        const testTitle=document.getElementById('test-title');
        const timerDisplay=document.getElementById('timer');
        const progressBar=document.getElementById('progress-bar');
        const progressText=document.getElementById('progress-text');
        const questionType=document.getElementById('question-type');
        const questionEl=document.getElementById('question');
        const answerInput=document.getElementById('answer-input');
        const nextButton=document.getElementById('next-button');
        const finalScore=document.getElementById('final-score');
        const incorrectAnswersBody=document.getElementById('incorrect-answers-body');
        const saveResultsButton=document.getElementById('save-results-button');
        const retryButton=document.getElementById('retry-button');
        const homeButton=document.getElementById('home-button');
        
        function init(){
            Object.keys(vocabularyData).sort((a,b)=>parseInt(a.match(/\d+/)[0])-parseInt(b.match(/\d+/)[0])).forEach(unit=>{const button=document.createElement('button');button.textContent=unit;button.className='bg-white text-gray-700 font-semibold py-4 px-2 rounded-lg shadow hover:bg-gray-200 border border-gray-200 transition-all duration-200';button.onclick=()=>startTest(unit);unitButtonsContainer.appendChild(button)});
            startAppButton.addEventListener('click', startApp);
            nextButton.addEventListener('click',handleNext);
            answerInput.addEventListener('keyup',e=>{if(e.key==='Enter'){handleNext()}});
            retryButton.addEventListener('click',()=>startTest(currentUnit));
            homeButton.addEventListener('click',()=>showScreen(unitSelectionScreen));
            saveResultsButton.addEventListener('click',saveResults);
            showScreen(userInfoScreen);
        }

        function startApp() {
            const school = schoolInput.value.trim();
            const grade = gradeInput.value.trim();
            const name = nameInput.value.trim();
            if (!school || !grade || !name) {
                showToast("모든 정보를 입력해주세요.");
                return;
            }
            userInfo = { school, grade, name };
            showScreen(unitSelectionScreen);
        }

        function showScreen(screen){
            [userInfoScreen, unitSelectionScreen,testScreen,resultsScreen].forEach(s=>s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        async function saveResults(){
            const score=finalScore.textContent;
            let title = `${userInfo.school} ${userInfo.grade}학년 ${userInfo.name}의 ${currentUnit} 시험지`;
            let resultsText = `${title}\n\n총점: ${score}점\n\n--- 틀린 문제 목록 ---\n`;
            const incorrectRows=incorrectAnswersBody.querySelectorAll('tr');
            if(incorrectRows.length===1&&incorrectRows[0].children[0].colSpan===4){
                resultsText+="틀린 문제가 없습니다."
            } else {
                incorrectRows.forEach(row=>{
                    const cells=row.querySelectorAll('td');
                    resultsText+=`문제: ${cells[0].textContent}\n`;
                    resultsText+=`제출 답: ${cells[1].textContent}\n`;
                    resultsText+=`정답: ${cells[2].textContent}\n`;
                    resultsText+=`점수: ${cells[3].textContent}\n\n`;
                });
            }
            try{
                await navigator.clipboard.writeText(resultsText.trim());
                showToast('시험 결과가 클립보드에 복사되었습니다.');
            } catch(err) {
                console.error('클립보드 복사 실패:',err);
                showToast('결과 복사에 실패했습니다.');
            }
        }
        
        function startTest(unit){currentUnit=unit;let unitWords=[...vocabularyData[unit]];questions=[];userAnswers=[];currentQuestionIndex=0;unitWords.sort(()=>0.5-Math.random());const numQuestions=Math.min(20,unitWords.length);const selectedWords=unitWords.slice(0,numQuestions);const half=Math.ceil(numQuestions/2);for(let i=0;i<numQuestions;i++){const wordData=selectedWords[i];const type=i<half?'spelling':'meaning';questions.push({type:type,word:wordData.word,meaning:wordData.meaning,originalQuestion:type==='spelling'?wordData.meaning:wordData.word})}
        questions.sort(()=>0.5-Math.random());testTitle.textContent=`${unit} 단어 시험`;showScreen(testScreen);displayQuestion();startTimer()}
        function displayQuestion(){if(currentQuestionIndex>=questions.length){submitTest();return}
        const q=questions[currentQuestionIndex];if(q.type==='spelling'){questionType.textContent='의미를 보고 철자 맞히기';questionEl.textContent=q.meaning.replace(/(\d+\.\s*)|[()]/g,'').replace(/;/g,', ')}else{questionType.textContent='철자를 보고 의미 맞히기';questionEl.textContent=q.word}
        answerInput.value='';answerInput.focus();updateProgress();if(currentQuestionIndex===questions.length-1){nextButton.textContent='채점하기'}else{nextButton.textContent='다음'}}
        function handleNext(){const answer=answerInput.value.trim();if(!answer){answerInput.classList.add('incorrect-flash');setTimeout(()=>answerInput.classList.remove('incorrect-flash'),500);return}
        userAnswers[currentQuestionIndex]=answer;const isCorrectAnswer=isAnswerInitiallyCorrect(questions[currentQuestionIndex],answer);answerInput.classList.add(isCorrectAnswer?'correct-flash':'incorrect-flash');setTimeout(()=>answerInput.classList.remove('correct-flash','incorrect-flash'),500);setTimeout(()=>{currentQuestionIndex++;displayQuestion()},300)}
        function isAnswerInitiallyCorrect(question,answer){if(question.type==='spelling'){return question.word.toLowerCase()===answer.toLowerCase()}else{const cleanCorrectAnswer=question.meaning.toLowerCase().replace(/(\d+\.\s*)|[()]/g,'');const userFirstMeaning=answer.split(/[,;]/)[0].toLowerCase().trim();return cleanCorrectAnswer.includes(userFirstMeaning)}}
        function updateProgress(){const progress=((currentQuestionIndex)/questions.length)*100;progressBar.style.width=`${progress}%`;progressText.textContent=`문제 ${currentQuestionIndex+1} / ${questions.length}`}
        function startTimer(){let timeLeft=600;timerDisplay.textContent="10:00";clearInterval(timerInterval);timerInterval=setInterval(()=>{timeLeft--;const minutes=Math.floor(timeLeft/60);const seconds=timeLeft%60;timerDisplay.textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;if(timeLeft<=0){clearInterval(timerInterval);submitTest()}},1000)}
        function submitTest(){clearInterval(timerInterval);let totalScore=0;const incorrectAnswers=[];questions.forEach((q,index)=>{const userAnswer=userAnswers[index]||"";let score=0;if(q.type==='spelling'){score=userAnswer.toLowerCase()===q.word.toLowerCase()?100:0}else{score=calculateMeaningScore(userAnswer,q.meaning)}
        if(score<100){incorrectAnswers.push({question:q.originalQuestion,userAnswer:userAnswer||"미응답",correctAnswer:q.type==='spelling'?q.word:q.meaning,score:score})}
        totalScore+=score});const averageScore=questions.length>0?Math.round(totalScore/questions.length):0;displayResults(averageScore,incorrectAnswers)}
        function calculateMeaningScore(userAnswer,correctAnswer){const normalize=str=>str.toLowerCase().replace(/[()]/g,'').trim();const cleanCorrectAnswer=correctAnswer.replace(/\d+\.\s*/g,'').trim();const cleanUserAnswer=userAnswer.trim();if(cleanUserAnswer==="")return 0;const meaningGroups=cleanCorrectAnswer.split(';').map(g=>g.trim().split(',').map(s=>normalize(s)).filter(s=>s));const userMeanings=cleanUserAnswer.split(/[,;]/).map(m=>normalize(m)).filter(m=>m);const allPossibleCorrectMeanings=new Set(meaningGroups.flat());for(const userMeaning of userMeanings){let isMeaningValid=false;for(const correctMeaning of allPossibleCorrectMeanings){if(correctMeaning.includes(userMeaning)||userMeaning.includes(correctMeaning)){isMeaningValid=true;break}}
        if(!isMeaningValid){return 0}}
        let matchedGroupsCount=0;for(const group of meaningGroups){let isGroupMatched=false;for(const userMeaning of userMeanings){for(const similarMeaning of group){if(similarMeaning.includes(userMeaning)||userMeaning.includes(similarMeaning)){isGroupMatched=true;break}}
        if(isGroupMatched)break}
        if(isGroupMatched){matchedGroupsCount++}}
        if(meaningGroups.length===0)return 100;const matchedRatio=matchedGroupsCount/meaningGroups.length;if(matchedRatio>=1){return 100}else if(matchedRatio>=0.5){return 50}else{return 0}}
        function displayResults(score,incorrectList){finalScore.textContent=score;const scoreContainer=finalScore.parentElement;scoreContainer.className='text-5xl font-bold text-center py-8 mb-6 rounded-lg';if(score>=80){scoreContainer.classList.add('text-blue-600')}else if(score>=50){scoreContainer.classList.add('text-yellow-600')}else{scoreContainer.classList.add('text-red-600')}
        incorrectAnswersBody.innerHTML='';if(incorrectList.length===0){incorrectAnswersBody.innerHTML=`<tr><td colspan="4" class="text-center py-4 text-gray-500">틀린 문제가 없습니다! 완벽해요!</td></tr>`}else{incorrectList.forEach(item=>{const row=`<tr class="text-sm"><td class="px-4 py-3 align-top">${item.question}</td><td class="px-4 py-3 align-top text-red-600">${item.userAnswer}</td><td class="px-4 py-3 align-top text-blue-600">${item.correctAnswer}</td><td class="px-4 py-3 align-top font-semibold">${item.score}점</td></tr>`;incorrectAnswersBody.innerHTML+=row})}
        showScreen(resultsScreen)}
        function showToast(message){const toast=document.getElementById('toast');toast.textContent=message;toast.classList.remove('opacity-0','translate-y-5');setTimeout(()=>{toast.classList.add('opacity-0','translate-y-5')},2500)}
        init();
    </script>
</body>
</html>
