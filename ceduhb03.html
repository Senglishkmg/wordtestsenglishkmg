<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어휘끝 고교기본 단어 시험 (Unit 21-30)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        .correct-flash { animation: flash-green 0.5s; }
        .incorrect-flash { animation: flash-red 0.5s; }
        @keyframes flash-green { 50% { box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.5); } }
        @keyframes flash-red { 50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5); } }
        #toast { transition: opacity 0.3s, transform 0.3s; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div id="app-container" class="w-full max-w-2xl mx-auto bg-white shadow-xl rounded-lg p-4 sm:p-8">

        <!-- 사용자 정보 입력 화면 -->
        <div id="user-info-screen">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">사용자 정보 입력</h1>
            <p class="text-center text-gray-600 mb-8">결과 저장에 사용될 정보를 입력해주세요.</p>
            <div class="space-y-4">
                <div><label for="school-input" class="block text-sm font-medium text-gray-700">학교</label><input type="text" id="school-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 새싹고등학교"></div>
                <div><label for="grade-input" class="block text-sm font-medium text-gray-700">학년</label><input type="text" id="grade-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 1"></div>
                <div><label for="name-input" class="block text-sm font-medium text-gray-700">이름</label><input type="text" id="name-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 홍길동"></div>
            </div>
            <button id="start-app-button" class="w-full mt-8 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">시험 시작하기</button>
        </div>

        <!-- 유닛 선택 화면 -->
        <div id="unit-selection-screen" class="hidden">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">어휘끝 고교기본 단어 시험</h1>
            <p class="text-center text-gray-600 mb-8">시험 볼 유닛을 선택하세요. (Unit 21-30)</p>
            <div id="unit-buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
        </div>

        <!-- 단어 시험 화면 -->
        <div id="test-screen" class="hidden">
            <div class="flex justify-between items-center mb-6"><h2 id="test-title" class="text-xl sm:text-2xl font-bold"></h2><div id="timer" class="text-lg font-semibold text-red-500 bg-red-100 px-4 py-2 rounded-lg">10:00</div></div>
            <div class="mb-6"><div class="w-full bg-gray-200 rounded-full h-2.5"><div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full"></div></div><p id="progress-text" class="text-center text-sm text-gray-600 mt-2"></p></div>
            <div id="question-container" class="text-center p-6 bg-gray-50 rounded-lg"><p id="question-type" class="text-sm font-semibold text-blue-600 mb-2"></p><p id="question" class="text-2xl sm:text-3xl font-medium mb-6 min-h-[72px] flex items-center justify-center"></p><input type="text" id="answer-input" class="w-full p-3 border rounded-lg text-lg text-center" placeholder="정답을 입력하세요"></div>
            <button id="next-button" class="w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">다음</button>
        </div>

        <!-- 채점 결과 화면 -->
        <div id="results-screen" class="hidden">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-4">시험 결과</h2>
            <div id="score-container" class="text-5xl font-bold text-center py-8 mb-6 rounded-lg"><span id="final-score"></span><span class="text-3xl text-gray-500"> / 100</span></div>
            <h3 class="text-lg font-semibold mb-4">틀린 문제 목록</h3>
            <div class="overflow-x-auto border rounded-lg max-h-64">
                <table class="min-w-full divide-y"><thead class="bg-gray-50 sticky top-0"><tr><th class="px-4 py-3 text-left text-xs font-medium uppercase">문제</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">제출한 답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">정답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">점수</th></tr></thead><tbody id="incorrect-answers-body" class="bg-white divide-y"></tbody></table>
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
                <button id="save-results-button" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg">결과 저장</button>
                <button id="retry-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg">다시 풀기</button>
                <button id="home-button" class="w-full bg-gray-500 text-white font-bold py-3 rounded-lg">처음으로</button>
            </div>
        </div>
    </div>
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transform translate-y-5"></div>
    <script>
        const vocabularyData = {
            "Unit 21": [
                { word: "civilization", meaning: "문명(사회)" }, { word: "economy", meaning: "1. 경제; 경기; 2. 절약" }, { word: "astronaut", meaning: "우주비행사" }, { word: "signal", meaning: "신호; 신호등; 신호를 보내다" }, { word: "interpret", meaning: "1. 해석하다; 이해하다; 2. 통역하다" }, { word: "indicate", meaning: "가리키다; 나타내다" }, { word: "universe", meaning: "우주; ((the -)) 전 세계" }, { word: "exist", meaning: "존재하다, 실재하다; (힘든 상황에서) 살아가다" }, { word: "persuade", meaning: "설득하다" }, { word: "laboratory", meaning: "실험실, 연구소" }, { word: "advanced", meaning: "1. 진보한, 선진의; 2. 상급의, 고등의" }, { word: "observe", meaning: "1. 관찰하다; 2. 보다, 목격하다; 3. (~라고) 말하다; 4. (법, 규칙 등을) 지키다" }, { word: "contact", meaning: "연락하다; 접촉하다; 연락; 접촉" }, { word: "document", meaning: "기록하다; 서류, 문서" }, { word: "explore", meaning: "탐험하다; 탐구하다" }, { word: "genius", meaning: "천재성; 천재" }, { word: "examine", meaning: "1. 검사[검토]하다, 조사하다; 2. 진찰하다" }, { word: "acknowledge", meaning: "1. (사실로) 인정하다; 2. (공식적으로) 감사를 표하다" }, { word: "assume", meaning: "1. 가정하다, 추정하다; 2. (역할 등을) 맡다; 3. (~인) 척하다" }, { word: "relative", meaning: "상대적인, 비교상의; 1. 친척; 2. 동족, 동류" }, { word: "alive", meaning: "1. 살아 있는; 2. 활발한, 생기 넘치는" }, { word: "imply", meaning: "암시하다, 시사하다" }, { word: "effective", meaning: "1. 효과적인; 2. (법률 등이) 시행되는" }, { word: "mankind", meaning: "인류; (모든) 인간" }, { word: "achieve", meaning: "(일, 목적 등을) 이루다, 성취하다" }, { word: "last", meaning: "1. 마지막의; 2. 지난; 최근의; 1. 마지막으로; 2. 지난번에; 최근에; 계속되다, 지속되다" }, { word: "will", meaning: "~할 것이다; 1. 의지; 2. 유언장" }, { word: "meet", meaning: "1. 만나다; 마중 가다; 2. 충족시키다" }, { word: "still", meaning: "1. 아직(도), 여전히; 2. 그런데도; 가만히 있는, 정지한" }, { word: "well", meaning: "잘, 좋게; 건강한; 우물" }
            ],
            "Unit 22": [
                { word: "nursery", meaning: "유아원; (가정집의) 아이들 놀이방" }, { word: "kindergarten", meaning: "유치원" }, { word: "stuff", meaning: "물건; 일; (빽빽이) 채워 넣다" }, { word: "routine", meaning: "일과; 틀에 박힌 일; 일상적인; 틀에 박힌" }, { word: "chore", meaning: "1. (집안)일, 가사; 잡일; 2. 하기 싫은 일, 따분한 일" }, { word: "blanket", meaning: "담요" }, { word: "stitch", meaning: "바느질하다, 꿰매다; (한) 바늘, (한) 땀" }, { word: "closet", meaning: "옷장, 벽장" }, { word: "polish", meaning: "광내다, 닦다; 광택, 닦기; 광택제" }, { word: "scrub", meaning: "(솔로) 문질러 씻다[청소하다]" }, { word: "broom", meaning: "(쓰레기 따위를 치우는) 빗자루, 비" }, { word: "garbage", meaning: "쓰레기; 음식 찌꺼기" }, { word: "mend", meaning: "1. 수선하다, 고치다; 2. (사태 등을) 개선하다" }, { word: "sweat", meaning: "1. 땀; 2. 노력, 수고; 땀을 흘리다" }, { word: "tidy", meaning: "잘 정돈된, 단정한" }, { word: "outlet", meaning: "1. 할인매장; 2. (감정 등의) 표현 수단; 배출구" }, { word: "display", meaning: "1. 전시하다, 진열하다; 2. (감정 등을) 드러내다; 전시, 진열" }, { word: "scatter", meaning: "1. (뿔뿔이) 흩어지다; 2. 흩뿌리다" }, { word: "stack", meaning: "(쌓아 올린) 더미, 무더기; 쌓다, 쌓아 올리다" }, { word: "discount", meaning: "할인; 할인하다" }, { word: "await", meaning: "기다리다" }, { word: "starve", meaning: "몹시 배고프다, 굶주리다; 굶어 죽다" }, { word: "stereotype", meaning: "고정관념; 정형화하다, 틀에 박히게 하다" }, { word: "depress", meaning: "1. 의기소침하게 하다; 2. 부진하게 하다" }, { word: "burden", meaning: "부담, 짐; 부담을 주다" }, { word: "tolerate", meaning: "참다, 견디다; 용인하다" }, { word: "character", meaning: "1. 기호; 문자; 2. 특징, 특성; 3. 성격, 인격; 4. (책, 영화 등의) 등장인물" }, { word: "matter", meaning: "1. 물질, 물체; 2. (처리해야 할) 사항, 일; 3. 상황, 사태; 4. (걱정의 원인이 되는) 문제; 문제가 되다; 5. 중요하다" }, { word: "raise", meaning: "1. (들어) 올리다; 2. 인상하다; 인상, 증가; 3. 모금하다; 4. 기르다, 키우다; 5. (문제 등을) 제기하다; 6. (감정, 반응을) 불러일으키다" }, { word: "degree", meaning: "1. 정도; 2. 도; 3. 학위" }
            ],
            "Unit 23": [
                { word: "commute", meaning: "통근하다, 통학하다; 통근 (거리), 통학" }, { word: "traffic", meaning: "(왕래하는) 차량, 교통(량)" }, { word: "vehicle", meaning: "탈것, 차량" }, { word: "rush", meaning: "서두르다; 돌진하다; 분주함; 돌진" }, { word: "irritated", meaning: "1. 짜증 난; 2. (피부 등이) 따끔거리는; 염증이 일어난" }, { word: "exhausted", meaning: "1. 매우 지친; 2. 고갈된, 다 써버린" }, { word: "stress", meaning: "1. 스트레스; 2. 강조; 1. 스트레스를 받다; 2. 강조하다" }, { word: "fatigue", meaning: "피로, 피곤" }, { word: "sore", meaning: "아픈, 따가운" }, { word: "anxiety", meaning: "1. 걱정, 근심; 2. 열망, 갈망" }, { word: "disturb", meaning: "1. 방해하다; 2. 불안하게 만들다" }, { word: "dramatic", meaning: "1. 급격한; 극적인; 2. 연극의; 희곡의" }, { word: "inhale", meaning: "(숨을) 들이마시다, 흡입하다" }, { word: "sight", meaning: "1. 시력; 시야; 2. 보기, 봄; 3. 관광지, 명소; (눈에 보이는) 광경; 보다, 발견하다" }, { word: "stiff", meaning: "뻣뻣한, 굳은; 딱딱한, 완고한" }, { word: "straighten", meaning: "곧게 하다, 똑바르게 되다" }, { word: "muscle", meaning: "근육; 힘, 근력" }, { word: "refresh", meaning: "상쾌하게 하다; 기운 나게 하다" }, { word: "bathe", meaning: "(몸을) 씻다; 세척하다" }, { word: "improve", meaning: "향상시키다, 개선되다" }, { word: "patience", meaning: "참을성, 인내(심)" }, { word: "academic", meaning: "1. 학업의, 학교의; 2. 학구적인" }, { word: "steady", meaning: "1. 꾸준한; 한결같은; 2. 안정된, 흔들림 없는" }, { word: "decrease", meaning: "감소하다, 감소시키다; 감소" }, { word: "loose", meaning: "헐거운, 느슨한; 매여 있지 않은" }, { word: "rate", meaning: "1. 비율, -율; 2. 속도; 3. 요금; (시간당) 급료; 4. 등급을 매기다, 평가하다; 등급" }, { word: "beat", meaning: "1. (반복적으로) 두드리다; 2. (북 등의 악기가) 둥둥 울리다; 3. 박자, 장단; 4. (심장이) 뛰다; 고동, 맥박; 5. 때리다; 6. 이기다" }, { word: "order", meaning: "1. 순서; 2. 정돈; 질서; 정돈하다; 3. 명령, 지시; 명령하다; 4. 주문; 주문하다" }, { word: "class", meaning: "1. (사회의) 계층, 계급; 2. 등급; 3. 종류, 부류; 4. 반, 학급; 반 학생들; 5. 수업" }, { word: "draw", meaning: "1. 끌다; 2. 그리다; 3. 무승부; 비기다; 4. 끌어내다; 5. (제비를) 뽑다; 추첨" }
            ],
            "Unit 24": [
                { word: "aim", meaning: "1. 목표, 목적; 2. 겨냥, 조준; 1. 목표로 하다; 2. 겨냥하다, 겨누다" }, { word: "target", meaning: "목표; (공격의) 표적; 목표로 삼다; 표적으로 삼다" }, { word: "ongoing", meaning: "진행 중인" }, { word: "amazing", meaning: "놀라운, 놀랄 만한" }, { word: "master", meaning: "통달하다, 완전히 익히다; 1. 대가, 거장; 2. 주인" }, { word: "situation", meaning: "상황, 환경" }, { word: "semester", meaning: "(1년 2학기 제도에서의) 학기" }, { word: "embarrassed", meaning: "당황스러운, 난처한" }, { word: "struggle", meaning: "애쓰다, 분투하다; 분투, 투쟁" }, { word: "primary", meaning: "1. 주된, 주요한; 2. 초기의, 최초의" }, { word: "devote", meaning: "(시간, 노력 등을) 바치다, 쏟다" }, { word: "accurate", meaning: "정확한, 정밀한" }, { word: "acquire", meaning: "(노력으로) 얻다, 습득하다" }, { word: "chart", meaning: "도표; 도표를 만들다" }, { word: "detail", meaning: "세부 사항, 상세한 설명; 상세히 설명하다" }, { word: "regular", meaning: "1. 규칙적인, 정기적인; 2. 평상시의, 보통의" }, { word: "arrange", meaning: "1. (미리) 준비하다, 마련하다; 2. 정리하다, 배열하다" }, { word: "specific", meaning: "1. 구체적인; 명확한; 2. 특정한" }, { word: "effort", meaning: "노력, 수고" }, { word: "constant", meaning: "1. 끊임없는, 계속되는; 2. 일정한, 변함없는" }, { word: "input", meaning: "1. 조언; 2. (시간 등의) 투입; 3. (컴퓨터) 입력" }, { word: "stimulate", meaning: "자극하다, 격려하다; 흥미를 불러일으키다" }, { word: "attempt", meaning: "시도하다; 시도" }, { word: "range", meaning: "범위, 범주; (범위에) 이르다" }, { word: "text", meaning: "1. 글; 본문; 2. 교과서; 문자 메시지를 보내다" }, { word: "summarize", meaning: "요약하다, 간략하게 말하다" }, { word: "chance", meaning: "1. 우연(한 일); 2. 운, 운수; 3. (좋은) 기회; 4. 가능성, 가망" }, { word: "bear", meaning: "1. 나르다, 가져가다[오다]; 2. (몸에) 지니다, (마음에) 품다; 3. (무거운 것을) 지탱하다; 4. 참다, 견디다; 5. (아이를) 낳다; 열매를 맺다" }, { word: "support", meaning: "1. 떠받치다; 버팀대; 2. 뒷받침하다; 근거; 3. 지지하다; 지지, 옹호; 4. 지원하다; 지원, 후원; 5. 부양하다" }, { word: "match", meaning: "1. 어울리다; 잘 어울리는 사람[것]; 2. 일치하다, 아주 비슷하다; 3. 경쟁 상대; 필적하다; 4. 경기, 시합; 5. 성냥" }
            ],
            "Unit 25": [
                { word: "deny", meaning: "1. 부인[부정]하다; 2. 거부[거절]하다" }, { word: "ethnic", meaning: "민족의, 인종의; 민족 전통의" }, { word: "insist", meaning: "1. 고집하다, 우기다; 2. (사실이라고) 주장하다" }, { word: "narrow-minded", meaning: "편협한, 속이 좁은" }, { word: "convince", meaning: "1. 확신시키다, 납득시키다; 2. 설득하다" }, { word: "mutual", meaning: "1. 상호의, 서로의; 2. 공통의, 공동의" }, { word: "accustom", meaning: "익숙해지게 하다, 익히다" }, { word: "suburb", meaning: "(도시에 인접한) 교외, 근교" }, { word: "hospitality", meaning: "환대, 친절" }, { word: "hometown", meaning: "고향" }, { word: "homesick", meaning: "향수병의, 고향을 그리워하는" }, { word: "racism", meaning: "인종 차별, 인종주의; 인종적 우월감" }, { word: "frustrated", meaning: "좌절한, 낙담한" }, { word: "ignore", meaning: "무시하다, 모르는 체하다" }, { word: "courtesy", meaning: "공손함, 정중함" }, { word: "swear", meaning: "1. 맹세하다; 2. 욕을 하다" }, { word: "awkward", meaning: "어색한; 서투른" }, { word: "passive", meaning: "수동적인, 소극적인" }, { word: "appeal", meaning: "1. 호소하다; 2. 관심을 끌다; 1. 호소; 2. 매력" }, { word: "solitary", meaning: "혼자의; 혼자 있기를 좋아하는" }, { word: "peninsula", meaning: "반도" }, { word: "costume", meaning: "의상, 복장; 분장" }, { word: "oriental", meaning: "동양의, 동양인의; 동양인" }, { word: "currency", meaning: "1. 통화, 화폐; 2. 통용" }, { word: "specialty / speciality", meaning: "1. 특산품, 명물; 2. 전문, 전공" }, { word: "skyscraper", meaning: "고층 건물" }, { word: "treat", meaning: "1. 취급하다, 다루다; 2. 논의하다; 3. 치료하다; 4. 대접하다; 한턱내다; 대접" }, { word: "spot", meaning: "1. 점, 반점; 2. 얼룩; 3. (피부의) 발진, 뾰루지; 4. (특정한) 장소; 5. 발견하다, 알아채다" }, { word: "change", meaning: "1. 변하다; 바꾸다; 변화; 2. 색다른 것; 기분 전환; 3. 갈아타다; 4. 갈아입다; 5. 환전하다; 6. 잔돈, 거스름돈" }, { word: "present", meaning: "1. 현재; 현재의; 2. 참석[출석]한, (~에) 있는; 3. 주다, 수여하다; 4. 보여주다; 제시[제출]하다; 5. 선물; 6. (문제 등을) 일으키다" }
            ],
            "Unit 26": [
                { word: "dynasty", meaning: "왕조, 왕가" }, { word: "pioneer", meaning: "개척자, 선구자; 개척하다" }, { word: "revolution", meaning: "1. 혁명, 대변혁; 2. 회전; 공전" }, { word: "triumph", meaning: "(큰) 업적; 승리(감); 승리를 거두다" }, { word: "warrior", meaning: "전사, 무사" }, { word: "ceremony", meaning: "의식, 식" }, { word: "landmark", meaning: "1. 유명한 지형지물, 랜드마크; 2. 획기적인 사건[발견]" }, { word: "exhibit", meaning: "1. 전시하다; 2. (감정, 관심 등을) 보이다, 드러내다; 전시(품)" }, { word: "portrait", meaning: "1. 초상(화); 인물 사진; 2. (상세한) 묘사" }, { word: "masterpiece", meaning: "걸작, 명작" }, { word: "statue", meaning: "조각상, 상(像)" }, { word: "sculpture", meaning: "조각(상)" }, { word: "folk", meaning: "민속의; (일반적인) 사람들" }, { word: "performance", meaning: "1. 공연, 연주; 2. 수행, 실행; 3. 성과" }, { word: "pitch", meaning: "1. 음의 높이; 2. (감정, 활동의) 정도; 최고조; 내던지다" }, { word: "journey", meaning: "(특히 멀리 가는) 여행, 여정" }, { word: "destination", meaning: "목적지, 행선지" }, { word: "passenger", meaning: "승객, 탑승객" }, { word: "transportation", meaning: "교통수단; 운송, 수송 (수단)" }, { word: "shortcut", meaning: "1. 지름길; 2. 손쉬운 방법" }, { word: "avenue", meaning: "(도시의) 대로, 거리, –가(街)" }, { word: "hike", meaning: "도보 여행, 하이킹; 도보 여행[하이킹]을 가다" }, { word: "compass", meaning: "1. 나침반; (제도용) 컴퍼스; 2. 범위" }, { word: "purchase", meaning: "사다, 구매하다; 구매; 산 물건" }, { word: "souvenir", meaning: "(휴가지 등에서 사는) 기념품, 선물" }, { word: "craft", meaning: "1. 수공예(품); 2. 선박; 비행기; 우주선; 공들여 만들다" }, { word: "check / cheque", meaning: "1. 억제하다, 억누르다; 2. 확인하다, 점검하다; 확인, 점검; 3. 수표; 계산서" }, { word: "move", meaning: "1. 움직이다; 움직임; 2. (일이) 진행되다, 나아가다; 3. 이사하다; 이사; 4. 감동시키다" }, { word: "pay", meaning: "1. 지불하다; 2. 이득이 되다, 수익을 내다; 3. 임금, 보수; 4. (신념, 행동에 대한) 대가를 치르다" }, { word: "track", meaning: "1. 지나간 흔적, (발)자국; 2. (밟아서 생긴) 길; 3. 추적하다; 4. 선로; 5. 경주로, 트랙" }
            ],
            "Unit 27": [
                { word: "chef", meaning: "요리사, 주방장" }, { word: "popularity", meaning: "인기; 대중성" }, { word: "publish", meaning: "1. 출판하다, 발행하다; 2. 발표하다, 공개하다" }, { word: "celebrity", meaning: "1. 유명 인사; 2. 명성" }, { word: "entertain", meaning: "1. 즐겁게 해주다; 2. (손님을) 대접하다" }, { word: "instruction", meaning: "1. (자세한) 설명(서); 2. 지시; 3. 교육, 가르침" }, { word: "ingredient", meaning: "1. (특히 요리의) 재료, 성분; 2. 구성 요소" }, { word: "create", meaning: "창조하다; 만들어내다" }, { word: "combine", meaning: "결합하다, 결합되다" }, { word: "recipe", meaning: "요리법, 조리법" }, { word: "raw", meaning: "1. 날것의, 익히지 않은; 2. 가공하지 않은" }, { word: "vegetarian", meaning: "채식주의자; 채식주의자의" }, { word: "chop", meaning: "(고기, 채소 등을) 잘게 썰다, 자르다" }, { word: "rotten", meaning: "1. 썩은, 부패한; 2. 끔찍한, 형편없는" }, { word: "stir", meaning: "1. 휘젓다, 섞다; 2. (감정, 기억 등을) 불러일으키다; (마음의) 동요" }, { word: "spicy", meaning: "매운; 향이 강한" }, { word: "flavor / flavour", meaning: "맛, 풍미; 맛을 내다" }, { word: "roast", meaning: "굽다, 볶다; 구운 요리" }, { word: "lid", meaning: "1. 뚜껑, 덮개; 2. 눈꺼풀" }, { word: "sip", meaning: "조금씩 마시다, 홀짝거리다; (음료의) 한 모금" }, { word: "sour", meaning: "1. (맛이) 신, 시큼한; 2. (우유가) 상한" }, { word: "dip", meaning: "살짝 담그다, 살짝 적시다" }, { word: "chew", meaning: "씹다; 깨물다" }, { word: "swallow", meaning: "삼키다; 1. 삼킴; 2. 제비" }, { word: "leftover", meaning: "(먹다) 남은 음식; 먹다 남은, 나머지의" }, { word: "count", meaning: "1. (수를) 세다; 계산하다; 계산; 2. 중요하다; 3. ((on)) 믿다; 확신하다" }, { word: "condition", meaning: "1. 조건; 2. 환경, 상황; 3. (건강) 상태" }, { word: "volume", meaning: "1. 책(의 크기); 권; 2. (물건의) 크기, 부피, 양; 3. 음량" }, { word: "plain", meaning: "1. 평지; 2. 분명한, 명백한; 3. 간결한, 소박한; 4. 솔직한, 있는 그대로의; 5. 무늬 없는" }, { word: "sign", meaning: "1. 기호, 부호; 2. 표지판, 간판; 3. 신호; 신호하다; 4. 징후, 조짐; 5. 서명하다; 계약하다" }
            ],
            "Unit 28": [
                { word: "ecosystem", meaning: "생태계" }, { word: "junk", meaning: "쓰레기, 폐물" }, { word: "decay", meaning: "1. 썩다, 부패하다; 2. 쇠퇴하다; 1. 부패; 2. 쇠퇴" }, { word: "environment", meaning: "1. (자연) 환경; 2. 주변 환경, 주위 상황" }, { word: "toxic", meaning: "유독한, 독성의" }, { word: "coal", meaning: "석탄" }, { word: "gasoline / gas", meaning: "휘발유, 가솔린" }, { word: "pollute", meaning: "오염시키다, 더럽히다" }, { word: "greenhouse", meaning: "온실" }, { word: "atmosphere", meaning: "1. 대기, 공기; 2. 분위기" }, { word: "acid", meaning: "1. 산성의; 2. 신, 신맛이 나는; ((화학)) 산" }, { word: "iceberg", meaning: "빙산" }, { word: "melt", meaning: "1. 녹다, 녹이다; 2. (감정 등을) 누그러뜨리다" }, { word: "flood", meaning: "홍수; 물에 잠기게 하다, 물에 잠기다" }, { word: "earthquake", meaning: "지진" }, { word: "freeze", meaning: "얼다, 얼리다; (물가, 임금 등의) 동결" }, { word: "protect", meaning: "보호하다, 지키다" }, { word: "reduce", meaning: "줄이다, 축소하다; 할인하다" }, { word: "resource", meaning: "자원, 재료; 자원을 제공하다" }, { word: "consume", meaning: "1. 소비하다, 소모하다; 2. 먹다; 마시다" }, { word: "seek", meaning: "1. 찾다; 2. 구하다" }, { word: "alternative", meaning: "대체의; 기존의 방식과는 다른; 대안" }, { word: "oxygen", meaning: "산소" }, { word: "preserve", meaning: "보존하다; 지키다, 보호하다" }, { word: "recycle", meaning: "(폐품을) 재활용하다, 재생하다" }, { word: "adapt", meaning: "1. 적응하다; 조정하다; 2. (책 등을) 각색하다" }, { word: "adopt", meaning: "1. 채택하다; (특정한 방식이나 태도를) 취하다; 2. 입양하다" }, { word: "saw", meaning: "톱; 톱질하다" }, { word: "sew", meaning: "꿰매다, 바느질하다" }, { word: "sow", meaning: "(씨를) 뿌리다, 심다" }
            ],
            "Unit 29": [
                { word: "evolve", meaning: "1. 진화하다; 2. (점진적으로) 발전하다, 발달하다" }, { word: "survive", meaning: "1. 살아남다, 생존하다; 2. (~보다) 오래 살다" }, { word: "desert", meaning: "사막; 버리다; 떠나다" }, { word: "native", meaning: "원산(지)의, 자생의; 출생지의; 현지인; 토착민" }, { word: "habitat", meaning: "(동식물의) 서식지" }, { word: "detect", meaning: "발견하다, 감지하다" }, { word: "descendant", meaning: "후손, 자손" }, { word: "dominant", meaning: "우세한, 지배적인" }, { word: "participate", meaning: "참여하다, 참가하다" }, { word: "invade", meaning: "1. 침입하다, 침략하다; 2. (사생활 등을) 침해하다" }, { word: "decorate", meaning: "장식하다, 꾸미다" }, { word: "tactic", meaning: "전략, 전술" }, { word: "generation", meaning: "세대, 같은 시대의 사람들; 1세대, 1대" }, { word: "fabulous", meaning: "1. 멋진, 굉장한; 2. (양이나 크기가) 엄청난" }, { word: "ecological", meaning: "생태계의; 생태학적인" }, { word: "predator", meaning: "포식자, 포식 동물; 약탈자" }, { word: "massive", meaning: "거대한, 엄청난" }, { word: "territory", meaning: "영토; 영역" }, { word: "vanish", meaning: "사라지다, 없어지다" }, { word: "transform", meaning: "변형시키다, 변화시키다" }, { word: "explode", meaning: "1. 폭증하다; 2. 폭발하다, 폭파시키다" }, { word: "species", meaning: "(생물 분류상의) 종(種)" }, { word: "restore", meaning: "1. 회복시키다; 2. 복원하다, 복구하다" }, { word: "wildlife", meaning: "야생동물, 야생식물" }, { word: "principal", meaning: "주요한, 으뜸가는; 교장; 우두머리" }, { word: "principle", meaning: "원칙, 원리" }, { word: "loyal", meaning: "충실한, 충성스러운" }, { word: "royal", meaning: "왕의, 여왕의; 왕실의" }, { word: "affect", meaning: "(~에) 영향을 미치다" }, { word: "effect", meaning: "결과, 효과; 영향; (어떤 결과를) 가져오다" }
            ],
            "Unit 30": [
                { word: "poverty", meaning: "가난, 빈곤" }, { word: "drought", meaning: "가뭄" }, { word: "necessity", meaning: "1. 필수품; 필요(성); 2. 필연(성), 불가피" }, { word: "shortage", meaning: "부족, 결핍" }, { word: "lifespan", meaning: "수명" }, { word: "cancer", meaning: "암" }, { word: "unemployment", meaning: "실업(률), 실직" }, { word: "hire", meaning: "고용하다" }, { word: "worsen", meaning: "악화시키다, 악화되다" }, { word: "hardship", meaning: "(돈 등의 부족에서 오는) 어려움, 고난" }, { word: "violent", meaning: "1. 폭력적인; 2. (정도가) 격렬한" }, { word: "chaos", meaning: "혼돈, 혼란" }, { word: "border", meaning: "1. 국경 (지역); 경계; 2. 가장자리" }, { word: "physician", meaning: "(내과) 의사" }, { word: "surgery", meaning: "1. (외과) 수술; 2. 외과 (의원)" }, { word: "medicine", meaning: "1. (내복)약; 2. 의학" }, { word: "cure", meaning: "1. 치유하다; 2. 해결하다; 1. 치유(법); 2. 해결책" }, { word: "therapy", meaning: "치료(법), 요법" }, { word: "pharmacy", meaning: "1. 약국; 2. ((학문)) 약학" }, { word: "tablet", meaning: "1. 정제; 2. (돌 등으로 된) 판, 명판(名板); 3. 태블릿" }, { word: "budget", meaning: "예산(안); 예산을 세우다" }, { word: "intend", meaning: "1. 의도하다, 작정하다; 2. 의미하다" }, { word: "cultivate", meaning: "1. 경작하다; 재배하다; 2. (재능, 행동 방식 등을) 기르다, 계발하다" }, { word: "produce", meaning: "1. 생산하다, 제조하다; 2. (결과를) 일으키다, 야기하다; 농산물; 생산물" }, { word: "income", meaning: "수입, 소득" }, { word: "lie", meaning: "거짓말하다; 거짓말" }, { word: "lie 2(누워있다)", meaning: "1. 눕다; 누워 있다; 2. 놓여 있다" }, { word: "lay", meaning: "1. 놓다, 두다; 2. (알을) 낳다" }, { word: "leap", meaning: "1. (높이) 뛰다; 2. 급증하다, 급격히 상승하다; 1. 도약; 2. 급증" }, { word: "reap", meaning: "거두다, 수확하다" }
            ]
        };
        // --- 이하 스크립트 코드는 이전 앱들과 동일 ---
        let userInfo = {};
        let currentUnit='',questions=[],currentQuestionIndex=0,userAnswers=[],timerInterval;
        const userInfoScreen = document.getElementById('user-info-screen');
        const unitSelectionScreen=document.getElementById('unit-selection-screen');
        const testScreen=document.getElementById('test-screen');
        const resultsScreen=document.getElementById('results-screen');
        const schoolInput = document.getElementById('school-input');
        const gradeInput = document.getElementById('grade-input');
        const nameInput = document.getElementById('name-input');
        const startAppButton = document.getElementById('start-app-button');
        const unitButtonsContainer=document.getElementById('unit-buttons');
        const testTitle=document.getElementById('test-title');
        const timerDisplay=document.getElementById('timer');
        const progressBar=document.getElementById('progress-bar');
        const progressText=document.getElementById('progress-text');
        const questionType=document.getElementById('question-type');
        const questionEl=document.getElementById('question');
        const answerInput=document.getElementById('answer-input');
        const nextButton=document.getElementById('next-button');
        const finalScore=document.getElementById('final-score');
        const incorrectAnswersBody=document.getElementById('incorrect-answers-body');
        const saveResultsButton=document.getElementById('save-results-button');
        const retryButton=document.getElementById('retry-button');
        const homeButton=document.getElementById('home-button');
        
        function init(){
            Object.keys(vocabularyData).sort((a,b)=>parseInt(a.match(/\d+/)[0])-parseInt(b.match(/\d+/)[0])).forEach(unit=>{const button=document.createElement('button');button.textContent=unit;button.className='bg-white text-gray-700 font-semibold py-4 px-2 rounded-lg shadow hover:bg-gray-200 border border-gray-200 transition-all duration-200';button.onclick=()=>startTest(unit);unitButtonsContainer.appendChild(button)});
            startAppButton.addEventListener('click', startApp);
            nextButton.addEventListener('click',handleNext);
            answerInput.addEventListener('keyup',e=>{if(e.key==='Enter'){handleNext()}});
            retryButton.addEventListener('click',()=>startTest(currentUnit));
            homeButton.addEventListener('click',()=>showScreen(unitSelectionScreen));
            saveResultsButton.addEventListener('click',saveResults);
            showScreen(userInfoScreen);
        }

        function startApp() {
            const school = schoolInput.value.trim();
            const grade = gradeInput.value.trim();
            const name = nameInput.value.trim();
            if (!school || !grade || !name) {
                showToast("모든 정보를 입력해주세요.");
                return;
            }
            userInfo = { school, grade, name };
            showScreen(unitSelectionScreen);
        }

        function showScreen(screen){
            [userInfoScreen, unitSelectionScreen,testScreen,resultsScreen].forEach(s=>s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        async function saveResults(){
            const score=finalScore.textContent;
            let title = `${userInfo.school} ${userInfo.grade}학년 ${userInfo.name}의 ${currentUnit} 시험지`;
            let resultsText = `${title}\n\n총점: ${score}점\n\n--- 틀린 문제 목록 ---\n`;
            const incorrectRows=incorrectAnswersBody.querySelectorAll('tr');
            if(incorrectRows.length===1&&incorrectRows[0].children[0].colSpan===4){
                resultsText+="틀린 문제가 없습니다."
            } else {
                incorrectRows.forEach(row=>{
                    const cells=row.querySelectorAll('td');
                    resultsText+=`문제: ${cells[0].textContent}\n`;
                    resultsText+=`제출 답: ${cells[1].textContent}\n`;
                    resultsText+=`정답: ${cells[2].textContent}\n`;
                    resultsText+=`점수: ${cells[3].textContent}\n\n`;
                });
            }
            try{
                await navigator.clipboard.writeText(resultsText.trim());
                showToast('시험 결과가 클립보드에 복사되었습니다.');
            } catch(err) {
                console.error('클립보드 복사 실패:',err);
                showToast('결과 복사에 실패했습니다.');
            }
        }
        
        function startTest(unit){currentUnit=unit;let unitWords=[...vocabularyData[unit]];questions=[];userAnswers=[];currentQuestionIndex=0;unitWords.sort(()=>0.5-Math.random());const numQuestions=Math.min(20,unitWords.length);const selectedWords=unitWords.slice(0,numQuestions);const half=Math.ceil(numQuestions/2);for(let i=0;i<numQuestions;i++){const wordData=selectedWords[i];const type=i<half?'spelling':'meaning';questions.push({type:type,word:wordData.word,meaning:wordData.meaning,originalQuestion:type==='spelling'?wordData.meaning:wordData.word})}
        questions.sort(()=>0.5-Math.random());testTitle.textContent=`${unit} 단어 시험`;showScreen(testScreen);displayQuestion();startTimer()}
        function displayQuestion(){if(currentQuestionIndex>=questions.length){submitTest();return}
        const q=questions[currentQuestionIndex];if(q.type==='spelling'){questionType.textContent='의미를 보고 철자 맞히기';questionEl.textContent=q.meaning.replace(/(\d+\.\s*)|[()]/g,'').replace(/;/g,', ')}else{questionType.textContent='철자를 보고 의미 맞히기';questionEl.textContent=q.word}
        answerInput.value='';answerInput.focus();updateProgress();if(currentQuestionIndex===questions.length-1){nextButton.textContent='채점하기'}else{nextButton.textContent='다음'}}
        function handleNext(){const answer=answerInput.value.trim();if(!answer){answerInput.classList.add('incorrect-flash');setTimeout(()=>answerInput.classList.remove('incorrect-flash'),500);return}
        userAnswers[currentQuestionIndex]=answer;const isCorrectAnswer=isAnswerInitiallyCorrect(questions[currentQuestionIndex],answer);answerInput.classList.add(isCorrectAnswer?'correct-flash':'incorrect-flash');setTimeout(()=>answerInput.classList.remove('correct-flash','incorrect-flash'),500);setTimeout(()=>{currentQuestionIndex++;displayQuestion()},300)}
        function isAnswerInitiallyCorrect(question,answer){if(question.type==='spelling'){return question.word.toLowerCase()===answer.toLowerCase()}else{const cleanCorrectAnswer=question.meaning.toLowerCase().replace(/(\d+\.\s*)|[()]/g,'');const userFirstMeaning=answer.split(/[,;]/)[0].toLowerCase().trim();return cleanCorrectAnswer.includes(userFirstMeaning)}}
        function updateProgress(){const progress=((currentQuestionIndex)/questions.length)*100;progressBar.style.width=`${progress}%`;progressText.textContent=`문제 ${currentQuestionIndex+1} / ${questions.length}`}
        function startTimer(){let timeLeft=600;timerDisplay.textContent="10:00";clearInterval(timerInterval);timerInterval=setInterval(()=>{timeLeft--;const minutes=Math.floor(timeLeft/60);const seconds=timeLeft%60;timerDisplay.textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;if(timeLeft<=0){clearInterval(timerInterval);submitTest()}},1000)}
        function submitTest(){clearInterval(timerInterval);let totalScore=0;const incorrectAnswers=[];questions.forEach((q,index)=>{const userAnswer=userAnswers[index]||"";let score=0;if(q.type==='spelling'){score=userAnswer.toLowerCase()===q.word.toLowerCase()?100:0}else{score=calculateMeaningScore(userAnswer,q.meaning)}
        if(score<100){incorrectAnswers.push({question:q.originalQuestion,userAnswer:userAnswer||"미응답",correctAnswer:q.type==='spelling'?q.word:q.meaning,score:score})}
        totalScore+=score});const averageScore=questions.length>0?Math.round(totalScore/questions.length):0;displayResults(averageScore,incorrectAnswers)}
        function calculateMeaningScore(userAnswer,correctAnswer){const normalize=str=>str.toLowerCase().replace(/[()]/g,'').trim();const cleanCorrectAnswer=correctAnswer.replace(/\d+\.\s*/g,'').trim();const cleanUserAnswer=userAnswer.trim();if(cleanUserAnswer==="")return 0;const meaningGroups=cleanCorrectAnswer.split(';').map(g=>g.trim().split(',').map(s=>normalize(s)).filter(s=>s));const userMeanings=cleanUserAnswer.split(/[,;]/).map(m=>normalize(m)).filter(m=>m);const allPossibleCorrectMeanings=new Set(meaningGroups.flat());for(const userMeaning of userMeanings){let isMeaningValid=false;for(const correctMeaning of allPossibleCorrectMeanings){if(correctMeaning.includes(userMeaning)||userMeaning.includes(correctMeaning)){isMeaningValid=true;break}}
        if(!isMeaningValid){return 0}}
        let matchedGroupsCount=0;for(const group of meaningGroups){let isGroupMatched=false;for(const userMeaning of userMeanings){for(const similarMeaning of group){if(similarMeaning.includes(userMeaning)||userMeaning.includes(similarMeaning)){isGroupMatched=true;break}}
        if(isGroupMatched)break}
        if(isGroupMatched){matchedGroupsCount++}}
        if(meaningGroups.length===0)return 100;const matchedRatio=matchedGroupsCount/meaningGroups.length;if(matchedRatio>=1){return 100}else if(matchedRatio>=0.5){return 50}else{return 0}}
        function displayResults(score,incorrectList){finalScore.textContent=score;const scoreContainer=finalScore.parentElement;scoreContainer.className='text-5xl font-bold text-center py-8 mb-6 rounded-lg';if(score>=80){scoreContainer.classList.add('text-blue-600')}else if(score>=50){scoreContainer.classList.add('text-yellow-600')}else{scoreContainer.classList.add('text-red-600')}
        incorrectAnswersBody.innerHTML='';if(incorrectList.length===0){incorrectAnswersBody.innerHTML=`<tr><td colspan="4" class="text-center py-4 text-gray-500">틀린 문제가 없습니다! 완벽해요!</td></tr>`}else{incorrectList.forEach(item=>{const row=`<tr class="text-sm"><td class="px-4 py-3 align-top">${item.question}</td><td class="px-4 py-3 align-top text-red-600">${item.userAnswer}</td><td class="px-4 py-3 align-top text-blue-600">${item.correctAnswer}</td><td class="px-4 py-3 align-top font-semibold">${item.score}점</td></tr>`;incorrectAnswersBody.innerHTML+=row})}
        showScreen(resultsScreen)}
        function showToast(message){const toast=document.getElementById('toast');toast.textContent=message;toast.classList.remove('opacity-0','translate-y-5');setTimeout(()=>{toast.classList.add('opacity-0','translate-y-5')},2500)}
        init();
    </script>
</body>
</html>

