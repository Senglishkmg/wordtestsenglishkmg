<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어휘끝 수능 단어 시험 (Unit 21-30)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        .correct-flash { animation: flash-green 0.5s; }
        .incorrect-flash { animation: flash-red 0.5s; }
        @keyframes flash-green { 50% { box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.5); } }
        @keyframes flash-red { 50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5); } }
        #toast { transition: opacity 0.3s, transform 0.3s; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div id="app-container" class="w-full max-w-2xl mx-auto bg-white shadow-xl rounded-lg p-4 sm:p-8">

        <!-- 사용자 정보 입력 화면 -->
        <div id="user-info-screen">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">사용자 정보 입력</h1>
            <p class="text-center text-gray-600 mb-8">결과 저장에 사용될 정보를 입력해주세요.</p>
            <div class="space-y-4">
                <div><label for="school-input" class="block text-sm font-medium text-gray-700">학교</label><input type="text" id="school-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 새싹고등학교"></div>
                <div><label for="grade-input" class="block text-sm font-medium text-gray-700">학년</label><input type="text" id="grade-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 1"></div>
                <div><label for="name-input" class="block text-sm font-medium text-gray-700">이름</label><input type="text" id="name-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 홍길동"></div>
            </div>
            <button id="start-app-button" class="w-full mt-8 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">시험 시작하기</button>
        </div>

        <!-- 유닛 선택 화면 -->
        <div id="unit-selection-screen" class="hidden">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">어휘끝 수능 단어 시험</h1>
            <p class="text-center text-gray-600 mb-8">시험 볼 유닛을 선택하세요. (Unit 21-30)</p>
            <div id="unit-buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
        </div>

        <!-- 단어 시험 화면 -->
        <div id="test-screen" class="hidden">
            <div class="flex justify-between items-center mb-6"><h2 id="test-title" class="text-xl sm:text-2xl font-bold"></h2><div id="timer" class="text-lg font-semibold text-red-500 bg-red-100 px-4 py-2 rounded-lg">10:00</div></div>
            <div class="mb-6"><div class="w-full bg-gray-200 rounded-full h-2.5"><div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full"></div></div><p id="progress-text" class="text-center text-sm text-gray-600 mt-2"></p></div>
            <div id="question-container" class="text-center p-6 bg-gray-50 rounded-lg"><p id="question-type" class="text-sm font-semibold text-blue-600 mb-2"></p><p id="question" class="text-2xl sm:text-3xl font-medium mb-6 min-h-[72px] flex items-center justify-center"></p><input type="text" id="answer-input" class="w-full p-3 border rounded-lg text-lg text-center" placeholder="정답을 입력하세요"></div>
            <button id="next-button" class="w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">다음</button>
        </div>

        <!-- 채점 결과 화면 -->
        <div id="results-screen" class="hidden">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-4">시험 결과</h2>
            <div id="score-container" class="text-5xl font-bold text-center py-8 mb-6 rounded-lg"><span id="final-score"></span><span class="text-3xl text-gray-500"> / 100</span></div>
            <h3 class="text-lg font-semibold mb-4">틀린 문제 목록</h3>
            <div class="overflow-x-auto border rounded-lg max-h-64">
                <table class="min-w-full divide-y"><thead class="bg-gray-50 sticky top-0"><tr><th class="px-4 py-3 text-left text-xs font-medium uppercase">문제</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">제출한 답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">정답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">점수</th></tr></thead><tbody id="incorrect-answers-body" class="bg-white divide-y"></tbody></table>
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
                <button id="save-results-button" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg">결과 저장</button>
                <button id="retry-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg">다시 풀기</button>
                <button id="home-button" class="w-full bg-gray-500 text-white font-bold py-3 rounded-lg">처음으로</button>
            </div>
        </div>
    </div>
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transform translate-y-5"></div>
    <script>
        const vocabularyData = {
            "Unit 21": [
                { word: "contend", meaning: "1. 싸우다; 겨루다; 2. (언쟁 중에) 주장하다" }, { word: "intense", meaning: "강렬한, 격렬한" }, { word: "abstract", meaning: "1. 추출하다; 2. 요약하다; 1. 개요, 발췌; 2. 추상; 추상적인" }, { word: "extract", meaning: "추출하다, 발췌하다; 추출물, 발췌" }, { word: "subtract", meaning: "공제하다, 빼다" }, { word: "enclose", meaning: "1. (울타리 등으로) 둘러싸다; 2. (편지 등에) 동봉하다" }, { word: "exclude", meaning: "제외하다, 배제하다" }, { word: "induce", meaning: "1. 유도하다, 설득하다; 2. 유발하다, 일으키다" }, { word: "conduce", meaning: "(좋은 결과로) 이끌다; 공헌하다, 이바지하다" }, { word: "subdue", meaning: "1. 진압하다, 정복하다; 2. (감정을) 억누르다, 가라앉히다" }, { word: "repress", meaning: "1. (감정을) 참다, 억누르다; 2. 진압하다" }, { word: "suppress", meaning: "1. 진압하다; 2. (감정을) 억누르다, 억제하다" }, { word: "compress", meaning: "압축하다, 꾹 누르다" }, { word: "oppress", meaning: "탄압[억압]하다, 억제하다" }, { word: "dispel", meaning: "(근심 등을) 없애다, 떨쳐 버리다" }, { word: "expel", meaning: "1. 쫓아내다; 퇴학[추방]시키다; 2. (공기나 물을) 배출하다" }, { word: "impel", meaning: "(생각, 기분이) ~해야만 하게 하다" }, { word: "repel", meaning: "1. 격퇴하다; 쫓아버리다; 2. 혐오감을 주다" }, { word: "propel", meaning: "1. 나아가게 하다; 2. (어떤 상황으로) 몰고 가다" }, { word: "impulse", meaning: "1. 충동; 2. 충격, 자극" }, { word: "dispose", meaning: "1. 배치[배열]하다; 2. (~에게) ~의 경향을 갖게 하다, ~하고 싶게 하다" }, { word: "impose", meaning: "1. (힘든 일을) 부과하다, 지우다; 2. (의견 등을) 강요하다" }, { word: "proposal", meaning: "1. 제안(서), 제의; 2. 청혼" }, { word: "component", meaning: "(구성)요소, 부품" }, { word: "proponent", meaning: "지지자, 찬성자" }, { word: "opponent", meaning: "1. 반대자; 2. (대회 등의) 상대" }, { word: "impending", meaning: "(불쾌한 일이) 임박한, 곧 닥칠" }, { word: "append", meaning: "(글에) 덧붙이다, 첨부하다" }, { word: "pendulum", meaning: "(시계의) 추; 진자" }, { word: "suspend", meaning: "1. 매달다; 2. (일시) 중단하다; 보류하다; 3. 정직[정학]시키다" }, { word: "compensate", meaning: "1. 보완[보충]하다; 2. 보상하다, 보상금을 주다" }, { word: "insert", meaning: "(다른 것 속에) 끼우다, 끼워 넣다; (글 속에) 삽입하다" }, { word: "assert", meaning: "(강하게) 주장하다, 단언하다" }, { word: "account for", meaning: "1. 설명하다; 2. (~의) 이유[원인]가 되다; 3. (부분, 비율을) 차지하다" }, { word: "answer for", meaning: "(~에 대해) 책임지다, 보증하다" }, { word: "call for", meaning: "1. 요구하다; 필요로 하다; 2. (날씨, 상황 등을) 예측하다; 3. 데리러 가다" }, { word: "go for", meaning: "1. 얻으려 애쓰다, 목표로 하다; 2. 선택하다" }, { word: "look for", meaning: "1. 찾다, 구하다; 2. 기대하다" }, { word: "make for", meaning: "(~로) 향하다" }, { word: "stand for", meaning: "1. 의미하다, 상징하다; 2. 지지하다, 옹호하다" }
            ],
            "Unit 22": [
                { word: "accord", meaning: "부합하다, 일치하다; 1. 부합, 일치; 2. (공식) 합의 협정" }, { word: "cordial", meaning: "마음에서 우러난; 다정한, 따뜻한" }, { word: "discord", meaning: "1. 불일치, 불화; 2. 불협화음" }, { word: "antipathy", meaning: "(강한) 반감, 혐오, 악감정" }, { word: "apathy", meaning: "무관심, 냉담" }, { word: "pathetic", meaning: "1. 불쌍한, 애처로운; 2. 서투른, 형편없는" }, { word: "empathy", meaning: "감정 이입, 공감" }, { word: "sympathy", meaning: "1. 공감, 동감; 찬성; 2. 동정(심), 연민" }, { word: "sensation", meaning: "1. 감각; 2. 느낌; 기분; 3. 센세이션, 돌풍" }, { word: "sensible", meaning: "분별력 있는, 현명한" }, { word: "sentiment", meaning: "1. 감정, 정서, (감정에 근거한) 의견; 2. 감상" }, { word: "consent", meaning: "동의하다, 허락하다; 합의하다; 동의, 허락" }, { word: "dissent", meaning: "반대하다; 반대, 반대 의견" }, { word: "resent", meaning: "분하게 여기다, 분개하다, 화를 내다" }, { word: "credible", meaning: "믿을 수 있는, 신뢰할 수 있는" }, { word: "credulous", meaning: "잘 믿는, 잘 속는" }, { word: "avail", meaning: "도움이 되다; 유용하다" }, { word: "evaluate", meaning: "평가하다" }, { word: "prevail", meaning: "1.만연[유행]하다, 널리 퍼지다; 2. 승리하다, 이기다" }, { word: "valid", meaning: "1. 유효한; 2. 타당한; 정당한" }, { word: "adequate", meaning: "충분한, 적절한" }, { word: "equation", meaning: "1. 방정식, 등식; 2. 동일시" }, { word: "equivalent", meaning: "(가치, 의미 등이) 동등한, 같은; (~에) 상응하는; 상응하는 것" }, { word: "appraise", meaning: "1. 평가하다; 감정하다; 2. 살피다" }, { word: "eject", meaning: "1. 쫓아내다; 2. 튀어나오게 하다; (연기 등을) 내뿜다" }, { word: "inject", meaning: "주입하다, 주사하다" }, { word: "abrupt", meaning: "1. 갑작스러운, 뜻밖의; 2. 퉁명스러운" }, { word: "corrupt", meaning: "부패한, 타락한; 부패하게 하다, 타락시키다" }, { word: "erupt", meaning: "(화산 등이) 분출하다; (감정 등이) 폭발하다" }, { word: "disrupt", meaning: "방해하다, 지장을 주다; 붕괴시키다" }, { word: "anonymous", meaning: "익명인, 신원 불명의" }, { word: "antonym", meaning: "반의어" }, { word: "synonymous", meaning: "1. 동의어[유의어]의; 2. 아주 밀접한" }, { word: "intermediate", meaning: "중간의, 중급의; 중급자" }, { word: "medieval / mediaeval", meaning: "중세의; 중세풍의" }, { word: "mediate", meaning: "중재하다, 조정하다; 화해시키다" }, { word: "come through", meaning: "1. 성공하다, 해내다; 2. (정보, 의미 등이) 들어오다, 전달되다" }, { word: "get through", meaning: "1. 통과하다, 빠져나가다; 2. (일 등을) 끝내다, 완수하다" }, { word: "go through", meaning: "1. 겪다, 경험하다; 2. 자세히 조사[검토]하다" }, { word: "look through", meaning: "1. (빠르게) 살펴보다, 훑어보다; 2. 검토하다" }
            ],
            "Unit 23": [
                { word: "particle", meaning: "입자; 극소량, 아주 작은 조각" }, { word: "molecule", meaning: "분자" }, { word: "atom", meaning: "원자" }, { word: "nuclear", meaning: "1. (원자)핵의; 2. 원자력의; 핵무기의" }, { word: "hydrogen", meaning: "수소" }, { word: "solid", meaning: "고체; 1. 고체의; 단단한; 2. 확실한, 믿을 수 있는" }, { word: "condense", meaning: "1. 응결하다; 농축시키다; 2. (글, 정보 등을) 요약하다" }, { word: "liquid", meaning: "액체; 액체 형태의" }, { word: "dissolve", meaning: "1. (액체로) 용해되다, 녹이다; 2. (관계, 모임 등을) 끝내다; 해산시키다" }, { word: "fluid", meaning: "유동체; 1. 유동성의; 2. 유동적인, 변하기 쉬운; 3. (움직임 등이) 부드러운" }, { word: "vapor", meaning: "증기" }, { word: "evaporate", meaning: "1. 증발하다[시키다]; 2. (희망, 열의 등이) 사라지다" }, { word: "decompose", meaning: "(화학 작용에 의해) 분해되다, 부패하다" }, { word: "dilute", meaning: "희석하다; (액체가) 희석된" }, { word: "refine", meaning: "1. 정제하다, 불순물을 제거하다; 2. 개선하다, 다듬다" }, { word: "chemical", meaning: "화학의, 화학적인; 화학 물질" }, { word: "synthetic", meaning: "합성의; 인조의" }, { word: "fuse", meaning: "융합[결합]되다; 녹이다; 전기 퓨즈; 도화선" }, { word: "rust", meaning: "(금속의) 녹; 녹슬다, 부식하다" }, { word: "mass", meaning: "1. 질량; 2. (큰) 덩어리; 3. 무리; 많은, 대량의" }, { word: "gravity", meaning: "중력, (지구) 인력" }, { word: "magnet", meaning: "1. 자석; 2. 사람의 마음을 끄는 것" }, { word: "elastic", meaning: "탄성의, 탄력 있는; 신축성이 있는" }, { word: "resilience", meaning: "1. 탄성, 탄력(성); 2. 회복력" }, { word: "friction", meaning: "1. 마찰(력); 2. (의견의) 충돌, 불화" }, { word: "velocity", meaning: "속도, 속력" }, { word: "ray", meaning: "광선; 빛" }, { word: "thermal", meaning: "1. 열의; 2. 보온이 잘되는" }, { word: "radiate", meaning: "(빛, 열 등을) 방출하다, 내뿜다" }, { word: "hypothesis", meaning: "가설; 가정" }, { word: "undertake", meaning: "1. (책임을) 맡다, 착수하다; 2. 약속하다" }, { word: "simulate", meaning: "1. 모의실험을 하다; 2. ~인 체하다, 가장하다" }, { word: "apparatus", meaning: "1. 기구, 장치; 2. (정부 등의) 기구, 기관; 3. (신체의) 기관" }, { word: "specimen", meaning: "견본, 표본" }, { word: "formula", meaning: "1. 공식, -식; 2. 방법; 비결" }, { word: "ratio", meaning: "비, 비율" }, { word: "statistics", meaning: "1. 통계 (자료); 2. 통계학" }, { word: "verify", meaning: "증명[입증]하다; 확인하다" }, { word: "figure", meaning: "1. 모습, 형상; 2. (중요한) 인물; 3. 몸매; 4. 숫자; 수치; 5. 도표, 그림; 도형" }, { word: "scale", meaning: "1. 저울; 2. 오르다; 3. 등급, 계급; 4. 규모, 정도; 5. 축척, 비율; 6. 비늘; 비늘을 벗기다; 7. 치석을 제거하다; 치석" }
            ],
            "Unit 24": [
                { word: "globe", meaning: "1. 지구; 세계; 2. 구; 3. 지구본" }, { word: "hemisphere", meaning: "(지구 등의) 반구" }, { word: "polar", meaning: "1. 북극[남극]의, 극지의; 2. (자석의) 양극[음극]의" }, { word: "arctic", meaning: "북극 (지방); 북극의" }, { word: "continent", meaning: "대륙; 육지, 본토" }, { word: "marine", meaning: "바다의, 해양의; 해병대원" }, { word: "submarine", meaning: "바닷속의, 해저의; 잠수함" }, { word: "mediterranean", meaning: "지중해; 지중해의" }, { word: "equator", meaning: "(지구의) 적도" }, { word: "latitude", meaning: "1. 위도; 2. (행동, 사상 등의) 자유; 허용 범위" }, { word: "altitude", meaning: "고도, 해발" }, { word: "atmosphere", meaning: "1. 대기, 공기; 2. 분위기" }, { word: "aerial", meaning: "1. 대기의, 공기의; 공중의; 2. 항공(기)의" }, { word: "coast", meaning: "해안(지방)" }, { word: "offshore", meaning: "1. 해안의, 연안의; 2. 국외의; 앞바다에; (육지에서) 바다로" }, { word: "terrain", meaning: "지형; 지역" }, { word: "horizon", meaning: "1. 수평선, 지평선; 2. (인식, 사고 등의) 시야" }, { word: "slope", meaning: "비탈, 경사지; 경사지게 하다" }, { word: "swamp", meaning: "늪, 습지; (큰 파도 등이) 뒤덮다" }, { word: "wilderness", meaning: "황무지, 황야; 버려진 땅" }, { word: "stream", meaning: "1. 개울, 시내; 2. (계속 이어진) 줄, 흐름" }, { word: "geological", meaning: "지질학(상)의, 지질의" }, { word: "marble", meaning: "1. 대리석; 2. 구슬" }, { word: "erode", meaning: "1. (비, 바람 등이) 침식시키다; 풍화되다; 2. (서서히) 약화시키다" }, { word: "cosmos", meaning: "(질서를 이룬 체계로서의) 우주" }, { word: "galaxy", meaning: "은하계; 은하수" }, { word: "solar", meaning: "태양의; 태양열을 이용한" }, { word: "lunar", meaning: "달의; 달의 작용에 의한" }, { word: "eclipse", meaning: "(해, 달의) 식; (달, 지구 등이 다른 천체를) 가리다" }, { word: "satellite", meaning: "위성; 인공위성" }, { word: "comet", meaning: "혜성" }, { word: "orbit", meaning: "궤도; 궤도를 돌다" }, { word: "revolve", meaning: "(천체가) 공전하다; (축을 중심으로) 돌다, 회전하다" }, { word: "observatory", meaning: "관측소; 천문대; 기상대" }, { word: "telescope", meaning: "망원경" }, { word: "probe", meaning: "탐사하다; 조사하다, 캐묻다; 조사" }, { word: "spacecraft", meaning: "우주선" }, { word: "flat", meaning: "1. 평평한; (땅이) 평지인; 2. 납작한; 3. 바람이 빠진, 펑크 난; 펑크 난 타이어; 4. (요금, 가격 등이) 균일한; 5. 아파트식 주택" }, { word: "object", meaning: "1. 물체, 사물; 2. 목적, 목표; 3. (감정, 행위 등의) 대상; 4. 반대하다" }, { word: "subject", meaning: "1. 주제, 화제; 2. 과목, 학과; 3. 대상, 소재; 4. 연구대상, 피실험자; 5. 지배하다; 지배를 받는; (승인 등을) 받아야 하는; 신하; 6. ~될 수 있는" }
            ],
            "Unit 25": [
                { word: "organism", meaning: "유기체, (작은) 생물" }, { word: "microbe", meaning: "미생물" }, { word: "germ", meaning: "세균, 병균" }, { word: "cell", meaning: "1. 세포; 2. (수도원, 교도소 등의) 작은 방; 독방; 3. 전지" }, { word: "tissue", meaning: "1. (세포들로 이뤄진) 조직; 2. 화장지; 얇은 종이[천]" }, { word: "ape", meaning: "유인원, 꼬리 없는 원숭이" }, { word: "mammal", meaning: "포유동물" }, { word: "primate", meaning: "영장류" }, { word: "reptile", meaning: "파충류" }, { word: "wildlife", meaning: "야생동물" }, { word: "botanic(al)", meaning: "식물의; 식물학(상)의" }, { word: "vegetation", meaning: "(특정 지역의) 초목, 식물" }, { word: "stem", meaning: "1. (식물의) 줄기, 대; 2. 어간; 생기다, 유래하다" }, { word: "predator", meaning: "포식자, 포식 동물; 약탈자" }, { word: "prey", meaning: "1. (동물의) 먹이, 사냥감; 2. 희생자, 피해자" }, { word: "parasite", meaning: "기생 동물[식물], 기생충" }, { word: "breed", meaning: "1. 새끼를 낳다; 2. 사육하다, 재배하다; 3. 야기하다, 일으키다; 품종" }, { word: "hatch", meaning: "(알을) 깨다, 부화하다; (배, 항공기의) 출입문[구]" }, { word: "sting", meaning: "1. (가시, 침 등으로) 찌르다, 쏘다; 2. 따끔거리다, 쓰리다" }, { word: "burrow", meaning: "1. (굴을) 파다; 2. (~속으로) 파고들다, 파묻다; 굴" }, { word: "pollination", meaning: "수분" }, { word: "sprout", meaning: "싹; 싹이 나다" }, { word: "blossom", meaning: "1. 꽃이 피다; 2. (얼굴, 형편이) 피다, 좋아지다; (과일나무의) 꽃" }, { word: "bloom", meaning: "꽃이 피다; 1. (관상용) 꽃; 2. 한창(때), 전성기" }, { word: "wither", meaning: "1. 시들다, 말라 죽다; 2. 약해지다; 사라져 가다" }, { word: "ferment", meaning: "발효되다, 발효시키다; 발효(균); 효소" }, { word: "dormant", meaning: "(동식물이) 발육을 중단한, 휴면기의; 동면중의" }, { word: "hibernation", meaning: "겨울잠, 동면" }, { word: "aquatic", meaning: "1. 물속[물가]에서 자라는; 2. 물과 관련된" }, { word: "nocturnal", meaning: "야행성의" }, { word: "adaptation", meaning: "1. 적응; 2. 각색" }, { word: "tame", meaning: "(짐승 등을) 길들이다; 길들여진" }, { word: "gene", meaning: "유전자" }, { word: "heredity", meaning: "유전; 유전적 특징" }, { word: "species", meaning: "(분류상의) 종" }, { word: "hybrid", meaning: "1. (동식물의) 잡종; 2. 혼성체, 혼합물" }, { word: "evolve", meaning: "1. 진화하다; 2. (점진적으로) 발전하다" }, { word: "mutate", meaning: "1. 돌연변이가 되다; 2. 변화하다" }, { word: "measure", meaning: "1. 측정하다, 재다; 2. 척도, 기준; 3. 평가하다, 판단하다; 4. 조치, 대책" }, { word: "trunk", meaning: "1. (나무) 줄기; 2. (사람의) 몸통; 3. (코끼리의) 코; 4. 여행용 큰 가방; 5. (자동차의) 트렁크" }
            ],
            "Unit 26": [
                { word: "temperate", meaning: "1. (기후, 지역 등이) 온화한, 온난한; 2. 절제하는, 삼가는" }, { word: "humid", meaning: "(날씨, 공기 등이) 습한, 눅눅한" }, { word: "rainfall", meaning: "강우(량)" }, { word: "breeze", meaning: "산들바람, 미풍" }, { word: "twilight", meaning: "1. 황혼, 땅거미; 2. 황혼기, 쇠퇴기" }, { word: "tide", meaning: "조수" }, { word: "catastrophe", meaning: "대참사; 큰 재앙" }, { word: "shatter", meaning: "산산이 부수다; 파괴하다" }, { word: "volcano", meaning: "화산" }, { word: "blaze", meaning: "1. 활활 타다; 2. 빛나다; 1. 불꽃, 화염; 2. 눈부신 빛" }, { word: "avalanche", meaning: "1. 눈사태, 산사태; 2. (우편물, 질문 등의) 쇄도" }, { word: "landslide", meaning: "1. 산사태; 2. (선거에서) 압도적인 승리" }, { word: "blast", meaning: "1. 강한 바람; 2. 폭발; 폭발하다, 폭발시키다" }, { word: "drown", meaning: "익사시키다, 물에 빠져 죽다" }, { word: "casualty", meaning: "사상자; 피해자" }, { word: "evacuate", meaning: "대피시키다; (위험 지역, 건물 등을) 비우다" }, { word: "exhaust", meaning: "1. 고갈시키다, 다 써버리다; 2. 지치게 하다; 배기가스" }, { word: "contaminate", meaning: "오염시키다, 더럽히다" }, { word: "pollutant", meaning: "오염물질, 오염원" }, { word: "fossil", meaning: "화석" }, { word: "radioactive", meaning: "방사능의, 방사성의" }, { word: "by-product", meaning: "1. 부산물; 2. 부작용" }, { word: "disposable", meaning: "사용 후 버릴 수 있는, 일회용의; 처분 가능한" }, { word: "rubbish", meaning: "쓰레기; 폐물" }, { word: "dump", meaning: "(쓰레기 등을) 내버리다" }, { word: "landfill", meaning: "쓰레기 매립(지)" }, { word: "sewage", meaning: "하수, 오물" }, { word: "stink", meaning: "악취를 풍기다; 악취" }, { word: "glacier", meaning: "빙하" }, { word: "barren", meaning: "(땅이) 불모의, 메마른" }, { word: "extinct", meaning: "1. (생물, 종족 등이) 멸종된; 2. (화산 등이) 활동을 멈춘" }, { word: "rainforest", meaning: "(열대) 우림" }, { word: "deforestation", meaning: "삼림 벌채[파괴]" }, { word: "ecology", meaning: "생태(계); 생태학" }, { word: "biodiversity", meaning: "생물의 다양성" }, { word: "habitat", meaning: "서식지, 거주지" }, { word: "preserve", meaning: "보호하다; 보존하다" }, { word: "purify", meaning: "정화하다, 깨끗이 하다; 정제하다" }, { word: "eco-friendly", meaning: "환경친화적인" }, { word: "sustainable", meaning: "1. (환경 파괴 없이) 지속 가능한; 2. 오랫동안 지속[유지]할 수 있는" }
            ],
            "Unit 27": [
                { word: "pregnant", meaning: "임신한, 임신하고 있는" }, { word: "adolescent", meaning: "(사춘기) 청소년의; (사춘기) 청소년" }, { word: "perish", meaning: "1. (갑자기) 죽다; 2. 멸망하다; 사라지다" }, { word: "doom", meaning: "불운, 파멸; (불행한) 운명을 맞게 하다" }, { word: "grave", meaning: "무덤; 중대한, 심각한; 엄숙한" }, { word: "legacy", meaning: "유산, 유물, 물려받은 것" }, { word: "inheritance", meaning: "1. 유산; 상속; 2. 유전" }, { word: "heir", meaning: "상속인; 계승자, 후계자" }, { word: "solidarity", meaning: "연대, 결속" }, { word: "kinship", meaning: "1. 친족(임), 친척 관계; 2. 연대감" }, { word: "reciprocity", meaning: "상호 의존, 호혜" }, { word: "parental", meaning: "부모의, 어버이로서의" }, { word: "sibling", meaning: "형제자매" }, { word: "offspring", meaning: "자식, 자손; (동물의) 새끼" }, { word: "fellow", meaning: "동료, 친구; 녀석" }, { word: "bride", meaning: "신부, 새색시" }, { word: "nurture", meaning: "1. (아이를) 기르다, 양육하다; 2. 양성[육성]하다" }, { word: "quarrel", meaning: "다투다, 언쟁을 벌이다; 다툼, 언쟁" }, { word: "alienate", meaning: "(사람을) 소원하게 하다, 멀리하다" }, { word: "divorce", meaning: "1. 이혼하다; 2. 분리하다, 단절시키다; 1. 이혼; 2. 분리, 단절" }, { word: "farewell", meaning: "작별 (인사); 작별의, 고별의" }, { word: "reconcile", meaning: "1. 화해시키다; 2. 일치시키다, 조화시키다" }, { word: "discipline", meaning: "1. 훈련, 단련; 규율, 훈육; 2. 자제(심), 절제력; 3. 학과, 학문 분야; 훈련하다, 단련하다" }, { word: "instruct", meaning: "1. 가르치다, 교육하다; 2. 지시하다, 명령하다" }, { word: "aptitude", meaning: "소질, 적성" }, { word: "expertise", meaning: "전문 지식[기술]" }, { word: "scholar", meaning: "1. 학자; 2. 장학생" }, { word: "guideline", meaning: "가이드라인, 지침, 지표" }, { word: "encyclopedia", meaning: "백과사전" }, { word: "secondary", meaning: "1. 중등교육[학교]의; 2. 이차적인, 부수적인" }, { word: "faculty", meaning: "1. (대학의) 학부; 2. 교수진; 3. (타고난) 능력, 재능" }, { word: "dormitory", meaning: "기숙사" }, { word: "tuition", meaning: "수업료, 등록금" }, { word: "sophomore", meaning: "(4년제 대학, 고교의) 2학년생" }, { word: "undergraduate", meaning: "대학생, 학부생" }, { word: "diploma", meaning: "졸업장, 수료증; 학위 (증서)" }, { word: "bachelor", meaning: "1. 학사; 2. 미혼[독신] 남자" }, { word: "issue", meaning: "1. 쟁점, 문제, 사안; 2. 발표하다, 공표하다; 발표, 공표; 3. (잡지, 면허증 등을) 발행하다, 발급하다; 발행, 발급; 4. 발행물, (정기 간행물의) 호" }, { word: "deliver", meaning: "1. 배달하다, 전하다; 2. (연설, 강연 등을) 하다; 3. (아기를) 분만하다, 출산하다; 4. (약속을) 지키다" }, { word: "cast", meaning: "1. 던지다; 2. (시선, 미소 등을) 향하다, 보내다; 3. 배역을 맡기다; 배역, 출연자들; 4. (빛, 그림자 등을) 드리우다; 5. 주조하다; 주형, 거푸집; 6. 깁스 (붕대)" }
            ],
            "Unit 28": [
                { word: "linguistic", meaning: "언어의, 언어학의" }, { word: "bilingual", meaning: "2개 국어를 할 줄 아는; 이중 언어 사용자" }, { word: "usage", meaning: "1. (단어의) 용법, 어법; 2. 사용(량)" }, { word: "verbal", meaning: "언어의; (글이 아닌) 구두의, 말로 된" }, { word: "vowel", meaning: "모음 (글자)" }, { word: "intonation", meaning: "억양, 어조" }, { word: "pronounce", meaning: "1. 발음하다; 2. (공개적으로) 선언하다" }, { word: "utter", meaning: "말을 하다; 소리를 내다; 완전한, 순전한" }, { word: "recite", meaning: "(시 등을) 암송하다, 낭독하다" }, { word: "fluent", meaning: "(특히 외국어가) 유창한" }, { word: "dialect", meaning: "방언, 사투리" }, { word: "analogy", meaning: "비유; 유사점" }, { word: "metaphor", meaning: "은유, 비유" }, { word: "exaggerate", meaning: "과장하다" }, { word: "paradox", meaning: "역설; 역설적인 사람[일]" }, { word: "irony", meaning: "모순, 아이러니(한 상황); 반어(법)" }, { word: "sarcastic", meaning: "풍자적인; 비꼬는" }, { word: "discourse", meaning: "(특정 주제에 대한) 담화, 담론; 이야기하다" }, { word: "profess", meaning: "1. (감정, 믿음 등을) 공언하다; 고백하다; 2. (사실이 아닌 것을) 주장하다" }, { word: "murmur", meaning: "속삭이다, 중얼거리다; 속삭임" }, { word: "exclaim", meaning: "소리치다, 외치다" }, { word: "vow", meaning: "맹세하다, 서약하다; 맹세, 서약" }, { word: "pledge", meaning: "(굳게) 약속하다, 맹세하다; 약속, 맹세" }, { word: "urge", meaning: "강력히 권고하다; (강한) 욕구[충동]" }, { word: "dispute", meaning: "1. 논쟁하다; 2. 반박하다, 이의를 제기하다; 분쟁, 논쟁" }, { word: "justify", meaning: "정당화하다; 옳음을 증명하다" }, { word: "advocate", meaning: "지지[옹호]하다; 1. 지지[옹호]자; 2. 변호사" }, { word: "draft", meaning: "1. 초안; 2. 징병; 1. 초안을 작성하다; 2. 선발하다; 징병하다" }, { word: "plot", meaning: "1. (책, 영화 등의) 줄거리; 2. 음모; 1. 줄거리를 짜다; 2. 음모를 꾸미다" }, { word: "punctuate", meaning: "1. (마침표, 쉼표 등의) 구두점을 찍다; 2. 간간이 끼어들다, 중단시키다" }, { word: "genre", meaning: "(예술 작품의) 장르, 유형" }, { word: "narrative", meaning: "서술, 이야기; 이야기의" }, { word: "lyric", meaning: "서정시의; 1. 서정시; 2. 노래 가사" }, { word: "myth", meaning: "1. 신화; 2. 근거 없는 믿음" }, { word: "humorous", meaning: "재미있는, 유머러스한" }, { word: "monotonous", meaning: "단조로운, 지루한" }, { word: "gloomy", meaning: "우울한, 침울한; 어둑어둑한" }, { word: "solemn", meaning: "엄숙한, 근엄한" }, { word: "account", meaning: "1. 계좌; 2. (인터넷 등의) 계정; 3. 장부; 외상 (거래); 4. 설명하다; 설명; 5. 이유, 근거" }, { word: "note", meaning: "1. 메모, 쪽지; 2. 필기, 노트; 3. 지폐; 4. 주목하다, 주의하다; 5. 언급하다, 말하다; 6. 음; 음표; 7. (특정한) 어조; 기색, 분위기" }
            ],
            "Unit 29": [
                { word: "rational", meaning: "이성적인, 합리적인" }, { word: "logic", meaning: "논리(학); 타당성" }, { word: "coherent", meaning: "(생각, 주장 등이) 일관성[통일성] 있는; 논리 정연한" }, { word: "factual", meaning: "사실의, 사실에 입각한" }, { word: "empirical", meaning: "경험[실험]에 의거한, 실증적인" }, { word: "contemplate", meaning: "1. 고려하다; 심사숙고하다; 2. 응시하다" }, { word: "ponder", meaning: "숙고하다, 곰곰이 생각하다" }, { word: "meditate", meaning: "1. 숙고하다; 2. 명상하다" }, { word: "presume", meaning: "(사실로) 추정하다, 여기다" }, { word: "quest", meaning: "탐구, 탐색, 추구" }, { word: "embody", meaning: "(사상, 감정 등을) 구현하다, 구체적으로 표현하다" }, { word: "mindset", meaning: "사고방식" }, { word: "cognitive", meaning: "인지의, 인식의" }, { word: "insight", meaning: "통찰력; 이해, 간파" }, { word: "intuition", meaning: "직관(력); 직감" }, { word: "viewpoint", meaning: "견해, 관점" }, { word: "perspective", meaning: "1. 관점, 시각; 2. 전망, 경치; 3. 원근법; 원근감" }, { word: "outlook", meaning: "1. 관점, 견해; 2. (앞으로의) 전망, 예측; 3. 전망, 경치" }, { word: "preoccupy", meaning: "생각을 사로잡다, 마음을 빼앗다" }, { word: "internalize", meaning: "(사상, 태도 등을) 내면화하다, 받아들이다" }, { word: "notion", meaning: "관념, 개념, 생각" }, { word: "criteria", meaning: "기준, 표준" }, { word: "bias", meaning: "편견, 선입견; 편견[선입견]을 갖게 하다" }, { word: "prejudice", meaning: "편견, 선입견; 편견[선입견]을 갖게 하다" }, { word: "fallacy", meaning: "(많은 사람이 믿는) 그릇된 생각; 오류" }, { word: "misconception", meaning: "(옳지 않은 정보에 근거한) 오해, 잘못된 생각" }, { word: "obsess", meaning: "(생각 등이 마음을) 사로잡다, 집착하게 하다" }, { word: "ego", meaning: "자아; 자부심, 자존심" }, { word: "ideology", meaning: "이념, 이데올로기" }, { word: "mainstream", meaning: "(사상 등의) 주류, 대세; (강의) 주류; 주류의; 주류에 편입시키다" }, { word: "assimilation", meaning: "(지식, 사상 등을 제 것으로) 흡수; 동화" }, { word: "pessimism", meaning: "비관주의, 비관론" }, { word: "realism", meaning: "현실주의, 현실성; 사실주의" }, { word: "humanitarian", meaning: "인도주의적인; 인도주의자" }, { word: "altruism", meaning: "이타주의, 이타심" }, { word: "idealism", meaning: "이상주의" }, { word: "patriotism", meaning: "애국심" }, { word: "reason", meaning: "1. 이유, 원인; 근거; 2. 이성(적 판단), 사리분별; 3. (이성적으로) 판단하다; 추리[추론]하다" }, { word: "reflect", meaning: "1. 반사하다; 2. (거울 등에) 비치다; 3. 반영하다, 나타내다; 4. 숙고하다, 깊이 생각하다" }, { word: "stand", meaning: "1. 서다, 서 있다; ~에 있다, 위치하다; 2. 입장, 태도; (특정) 입장에 있다; 3. 참다, 견디다; 저항; 4. 판매대; 매점; 5. (가구 등의) -대, 스탠드" }
            ],
            "Unit 30": [
                { word: "origin", meaning: "1. 기원, 유래; 2. 출신" }, { word: "prehistoric", meaning: "선사 시대의; 역사 기록 이전의" }, { word: "heritage", meaning: "(국가, 사회의) 유산, 전통" }, { word: "monument", meaning: "기념물[관]; 유물, 유적" }, { word: "archive", meaning: "1. 기록 보관소; 2. 오래된 기록; (기록 보관소 등에) 보관하다" }, { word: "milestone", meaning: "획기적인[중요한] 사건" }, { word: "antique", meaning: "(귀중한) 골동품; 골동품인; 고대의, 옛날의" }, { word: "excavate", meaning: "발굴하다; (구멍 등을) 파다" }, { word: "archaeology", meaning: "고고학" }, { word: "era", meaning: "시대, 시기" }, { word: "ancient", meaning: "고대의, 옛날의; 아주 오래된" }, { word: "primitive", meaning: "원시(사회)의, 초기의; 원시적인" }, { word: "tribe", meaning: "부족, 종족" }, { word: "ancestor", meaning: "선조, 조상" }, { word: "civilize / civilise", meaning: "문명화하다, 개화하다" }, { word: "temporal", meaning: "1. 시간의; 2. 속세의, 현세의; 3. 순간[일시]적인, 한때의" }, { word: "momentary", meaning: "순간적인, 찰나의" }, { word: "eternal", meaning: "영원한, 영구한; 변함없는" }, { word: "everlasting", meaning: "영원한, 변치 않는; 끊임없는" }, { word: "immortal", meaning: "불멸의, 죽지 않는" }, { word: "holy", meaning: "1. 신성한, 성스러운; 2. 독실한, 경건한" }, { word: "sacred", meaning: "신성한, 성스러운; 종교적인" }, { word: "divine", meaning: "신성한, 성스러운; 신의" }, { word: "glory", meaning: "1. (신에 대한) 찬양; 2. 영광, 영예" }, { word: "sin", meaning: "(종교, 도덕상의) 죄, 죄악" }, { word: "devil", meaning: "악마, 사탄; 마귀" }, { word: "theology", meaning: "신학" }, { word: "prophecy", meaning: "(특히 종교적인) 예언(력)" }, { word: "superstition", meaning: "미신" }, { word: "worship", meaning: "예배, 숭배; 예배하다, 숭배하다" }, { word: "ritual", meaning: "1. (종교상의) 의식, 의례; 2. (항상 하는) 의례적인 일; 1. 의식의; 2. 의례적인" }, { word: "creed", meaning: "1. (종교적) 교리; 2. 신념, 원칙" }, { word: "sermon", meaning: "설교; 훈계" }, { word: "preach", meaning: "설교하다; 전도하다" }, { word: "saint", meaning: "성인, 성자; 성인과 같은 사람" }, { word: "priest", meaning: "사제, 신부; 성직자" }, { word: "monk", meaning: "수도자, 수도승" }, { word: "appreciate", meaning: "1. (제대로) 인식하다, 깨닫다; 2. 감상하다, 진가를 알아보다; 3. 고마워하다" }, { word: "charge", meaning: "1. 책임을 맡기다; (사람, 일에 대한) 책임, 담당; 2. 기소, 고소; 기소하다, 고소하다; 3. 공격, 돌격; 공격하다, 돌격하다; 4. (요금, 값을) 청구하다; (상품, 서비스에 대한) 요금; 5. 신용카드로 사다; (외상으로) 달아놓다; 6. (전기를) 충전하다" }, { word: "discharge", meaning: "1. (기체, 액체, 에너지 등을) 흘리다, 방출하다; 2. 방전하다; 3. 석방하다; 퇴원시키다; 제대시키다; 해고하다" }
            ]
        };
        // --- 이하 스크립트 코드는 이전 앱들과 동일 ---
        let userInfo = {};
        let currentUnit='',questions=[],currentQuestionIndex=0,userAnswers=[],timerInterval;
        const userInfoScreen = document.getElementById('user-info-screen');
        const unitSelectionScreen=document.getElementById('unit-selection-screen');
        const testScreen=document.getElementById('test-screen');
        const resultsScreen=document.getElementById('results-screen');
        const schoolInput = document.getElementById('school-input');
        const gradeInput = document.getElementById('grade-input');
        const nameInput = document.getElementById('name-input');
        const startAppButton = document.getElementById('start-app-button');
        const unitButtonsContainer=document.getElementById('unit-buttons');
        const testTitle=document.getElementById('test-title');
        const timerDisplay=document.getElementById('timer');
        const progressBar=document.getElementById('progress-bar');
        const progressText=document.getElementById('progress-text');
        const questionType=document.getElementById('question-type');
        const questionEl=document.getElementById('question');
        const answerInput=document.getElementById('answer-input');
        const nextButton=document.getElementById('next-button');
        const finalScore=document.getElementById('final-score');
        const incorrectAnswersBody=document.getElementById('incorrect-answers-body');
        const saveResultsButton=document.getElementById('save-results-button');
        const retryButton=document.getElementById('retry-button');
        const homeButton=document.getElementById('home-button');
        
        function init(){
            Object.keys(vocabularyData).sort((a,b)=>parseInt(a.match(/\d+/)[0])-parseInt(b.match(/\d+/)[0])).forEach(unit=>{const button=document.createElement('button');button.textContent=unit;button.className='bg-white text-gray-700 font-semibold py-4 px-2 rounded-lg shadow hover:bg-gray-200 border border-gray-200 transition-all duration-200';button.onclick=()=>startTest(unit);unitButtonsContainer.appendChild(button)});
            startAppButton.addEventListener('click', startApp);
            nextButton.addEventListener('click',handleNext);
            answerInput.addEventListener('keyup',e=>{if(e.key==='Enter'){handleNext()}});
            retryButton.addEventListener('click',()=>startTest(currentUnit));
            homeButton.addEventListener('click',()=>showScreen(unitSelectionScreen));
            saveResultsButton.addEventListener('click',saveResults);
            showScreen(userInfoScreen);
        }

        function startApp() {
            const school = schoolInput.value.trim();
            const grade = gradeInput.value.trim();
            const name = nameInput.value.trim();
            if (!school || !grade || !name) {
                showToast("모든 정보를 입력해주세요.");
                return;
            }
            userInfo = { school, grade, name };
            showScreen(unitSelectionScreen);
        }

        function showScreen(screen){
            [userInfoScreen, unitSelectionScreen,testScreen,resultsScreen].forEach(s=>s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        async function saveResults(){
            const score=finalScore.textContent;
            let title = `${userInfo.school} ${userInfo.grade}학년 ${userInfo.name}의 ${currentUnit} 시험지`;
            let resultsText = `${title}\n\n총점: ${score}점\n\n--- 틀린 문제 목록 ---\n`;
            const incorrectRows=incorrectAnswersBody.querySelectorAll('tr');
            if(incorrectRows.length===1&&incorrectRows[0].children[0].colSpan===4){
                resultsText+="틀린 문제가 없습니다."
            } else {
                incorrectRows.forEach(row=>{
                    const cells=row.querySelectorAll('td');
                    resultsText+=`문제: ${cells[0].textContent}\n`;
                    resultsText+=`제출 답: ${cells[1].textContent}\n`;
                    resultsText+=`정답: ${cells[2].textContent}\n`;
                    resultsText+=`점수: ${cells[3].textContent}\n\n`;
                });
            }
            try{
                await navigator.clipboard.writeText(resultsText.trim());
                showToast('시험 결과가 클립보드에 복사되었습니다.');
            } catch(err) {
                console.error('클립보드 복사 실패:',err);
                showToast('결과 복사에 실패했습니다.');
            }
        }
        
        function startTest(unit){currentUnit=unit;let unitWords=[...vocabularyData[unit]];questions=[];userAnswers=[];currentQuestionIndex=0;unitWords.sort(()=>0.5-Math.random());const numQuestions=Math.min(20,unitWords.length);const selectedWords=unitWords.slice(0,numQuestions);const half=Math.ceil(numQuestions/2);for(let i=0;i<numQuestions;i++){const wordData=selectedWords[i];const type=i<half?'spelling':'meaning';questions.push({type:type,word:wordData.word,meaning:wordData.meaning,originalQuestion:type==='spelling'?wordData.meaning:wordData.word})}
        questions.sort(()=>0.5-Math.random());testTitle.textContent=`${unit} 단어 시험`;showScreen(testScreen);displayQuestion();startTimer()}
        function displayQuestion(){if(currentQuestionIndex>=questions.length){submitTest();return}
        const q=questions[currentQuestionIndex];if(q.type==='spelling'){questionType.textContent='의미를 보고 철자 맞히기';questionEl.textContent=q.meaning.replace(/(\d+\.\s*)|[()]/g,'').replace(/;/g,', ')}else{questionType.textContent='철자를 보고 의미 맞히기';questionEl.textContent=q.word}
        answerInput.value='';answerInput.focus();updateProgress();if(currentQuestionIndex===questions.length-1){nextButton.textContent='채점하기'}else{nextButton.textContent='다음'}}
        function handleNext(){const answer=answerInput.value.trim();if(!answer){answerInput.classList.add('incorrect-flash');setTimeout(()=>answerInput.classList.remove('incorrect-flash'),500);return}
        userAnswers[currentQuestionIndex]=answer;const isCorrectAnswer=isAnswerInitiallyCorrect(questions[currentQuestionIndex],answer);answerInput.classList.add(isCorrectAnswer?'correct-flash':'incorrect-flash');setTimeout(()=>answerInput.classList.remove('correct-flash','incorrect-flash'),500);setTimeout(()=>{currentQuestionIndex++;displayQuestion()},300)}
        function isAnswerInitiallyCorrect(question,answer){if(question.type==='spelling'){return question.word.toLowerCase()===answer.toLowerCase()}else{const cleanCorrectAnswer=question.meaning.toLowerCase().replace(/(\d+\.\s*)|[()]/g,'');const userFirstMeaning=answer.split(/[,;]/)[0].toLowerCase().trim();return cleanCorrectAnswer.includes(userFirstMeaning)}}
        function updateProgress(){const progress=((currentQuestionIndex)/questions.length)*100;progressBar.style.width=`${progress}%`;progressText.textContent=`문제 ${currentQuestionIndex+1} / ${questions.length}`}
        function startTimer(){let timeLeft=600;timerDisplay.textContent="10:00";clearInterval(timerInterval);timerInterval=setInterval(()=>{timeLeft--;const minutes=Math.floor(timeLeft/60);const seconds=timeLeft%60;timerDisplay.textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;if(timeLeft<=0){clearInterval(timerInterval);submitTest()}},1000)}
        function submitTest(){clearInterval(timerInterval);let totalScore=0;const incorrectAnswers=[];questions.forEach((q,index)=>{const userAnswer=userAnswers[index]||"";let score=0;if(q.type==='spelling'){score=userAnswer.toLowerCase()===q.word.toLowerCase()?100:0}else{score=calculateMeaningScore(userAnswer,q.meaning)}
        if(score<100){incorrectAnswers.push({question:q.originalQuestion,userAnswer:userAnswer||"미응답",correctAnswer:q.type==='spelling'?q.word:q.meaning,score:score})}
        totalScore+=score});const averageScore=questions.length>0?Math.round(totalScore/questions.length):0;displayResults(averageScore,incorrectAnswers)}
        function calculateMeaningScore(userAnswer,correctAnswer){const normalize=str=>str.toLowerCase().replace(/[()]/g,'').trim();const cleanCorrectAnswer=correctAnswer.replace(/\d+\.\s*/g,'').trim();const cleanUserAnswer=userAnswer.trim();if(cleanUserAnswer==="")return 0;const meaningGroups=cleanCorrectAnswer.split(';').map(g=>g.trim().split(',').map(s=>normalize(s)).filter(s=>s));const userMeanings=cleanUserAnswer.split(/[,;]/).map(m=>normalize(m)).filter(m=>m);const allPossibleCorrectMeanings=new Set(meaningGroups.flat());for(const userMeaning of userMeanings){let isMeaningValid=false;for(const correctMeaning of allPossibleCorrectMeanings){if(correctMeaning.includes(userMeaning)||userMeaning.includes(correctMeaning)){isMeaningValid=true;break}}
        if(!isMeaningValid){return 0}}
        let matchedGroupsCount=0;for(const group of meaningGroups){let isGroupMatched=false;for(const userMeaning of userMeanings){for(const similarMeaning of group){if(similarMeaning.includes(userMeaning)||userMeaning.includes(similarMeaning)){isGroupMatched=true;break}}
        if(isGroupMatched)break}
        if(isGroupMatched){matchedGroupsCount++}}
        if(meaningGroups.length===0)return 100;const matchedRatio=matchedGroupsCount/meaningGroups.length;if(matchedRatio>=1){return 100}else if(matchedRatio>=0.5){return 50}else{return 0}}
        function displayResults(score,incorrectList){finalScore.textContent=score;const scoreContainer=finalScore.parentElement;scoreContainer.className='text-5xl font-bold text-center py-8 mb-6 rounded-lg';if(score>=80){scoreContainer.classList.add('text-blue-600')}else if(score>=50){scoreContainer.classList.add('text-yellow-600')}else{scoreContainer.classList.add('text-red-600')}
        incorrectAnswersBody.innerHTML='';if(incorrectList.length===0){incorrectAnswersBody.innerHTML=`<tr><td colspan="4" class="text-center py-4 text-gray-500">틀린 문제가 없습니다! 완벽해요!</td></tr>`}else{incorrectList.forEach(item=>{const row=`<tr class="text-sm"><td class="px-4 py-3 align-top">${item.question}</td><td class="px-4 py-3 align-top text-red-600">${item.userAnswer}</td><td class="px-4 py-3 align-top text-blue-600">${item.correctAnswer}</td><td class="px-4 py-3 align-top font-semibold">${item.score}점</td></tr>`;incorrectAnswersBody.innerHTML+=row})}
        showScreen(resultsScreen)}
        function showToast(message){const toast=document.getElementById('toast');toast.textContent=message;toast.classList.remove('opacity-0','translate-y-5');setTimeout(()=>{toast.classList.add('opacity-0','translate-y-5')},2500)}
        init();
    </script>
</body>
</html>
