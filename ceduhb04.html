<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어휘끝 고교기본 단어 시험 (Unit 31-40)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        .correct-flash { animation: flash-green 0.5s; }
        .incorrect-flash { animation: flash-red 0.5s; }
        @keyframes flash-green { 50% { box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.5); } }
        @keyframes flash-red { 50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5); } }
        #toast { transition: opacity 0.3s, transform 0.3s; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div id="app-container" class="w-full max-w-2xl mx-auto bg-white shadow-xl rounded-lg p-4 sm:p-8">

        <!-- 사용자 정보 입력 화면 -->
        <div id="user-info-screen">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">사용자 정보 입력</h1>
            <p class="text-center text-gray-600 mb-8">결과 저장에 사용될 정보를 입력해주세요.</p>
            <div class="space-y-4">
                <div><label for="school-input" class="block text-sm font-medium text-gray-700">학교</label><input type="text" id="school-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 새싹고등학교"></div>
                <div><label for="grade-input" class="block text-sm font-medium text-gray-700">학년</label><input type="text" id="grade-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 1"></div>
                <div><label for="name-input" class="block text-sm font-medium text-gray-700">이름</label><input type="text" id="name-input" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm" placeholder="예: 홍길동"></div>
            </div>
            <button id="start-app-button" class="w-full mt-8 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">시험 시작하기</button>
        </div>

        <!-- 유닛 선택 화면 -->
        <div id="unit-selection-screen" class="hidden">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-6">어휘끝 고교기본 단어 시험</h1>
            <p class="text-center text-gray-600 mb-8">시험 볼 유닛을 선택하세요. (Unit 31-40)</p>
            <div id="unit-buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
        </div>

        <!-- 단어 시험 화면 -->
        <div id="test-screen" class="hidden">
            <div class="flex justify-between items-center mb-6"><h2 id="test-title" class="text-xl sm:text-2xl font-bold"></h2><div id="timer" class="text-lg font-semibold text-red-500 bg-red-100 px-4 py-2 rounded-lg">10:00</div></div>
            <div class="mb-6"><div class="w-full bg-gray-200 rounded-full h-2.5"><div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full"></div></div><p id="progress-text" class="text-center text-sm text-gray-600 mt-2"></p></div>
            <div id="question-container" class="text-center p-6 bg-gray-50 rounded-lg"><p id="question-type" class="text-sm font-semibold text-blue-600 mb-2"></p><p id="question" class="text-2xl sm:text-3xl font-medium mb-6 min-h-[72px] flex items-center justify-center"></p><input type="text" id="answer-input" class="w-full p-3 border rounded-lg text-lg text-center" placeholder="정답을 입력하세요"></div>
            <button id="next-button" class="w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">다음</button>
        </div>

        <!-- 채점 결과 화면 -->
        <div id="results-screen" class="hidden">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-4">시험 결과</h2>
            <div id="score-container" class="text-5xl font-bold text-center py-8 mb-6 rounded-lg"><span id="final-score"></span><span class="text-3xl text-gray-500"> / 100</span></div>
            <h3 class="text-lg font-semibold mb-4">틀린 문제 목록</h3>
            <div class="overflow-x-auto border rounded-lg max-h-64">
                <table class="min-w-full divide-y"><thead class="bg-gray-50 sticky top-0"><tr><th class="px-4 py-3 text-left text-xs font-medium uppercase">문제</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">제출한 답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">정답</th><th class="px-4 py-3 text-left text-xs font-medium uppercase">점수</th></tr></thead><tbody id="incorrect-answers-body" class="bg-white divide-y"></tbody></table>
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
                <button id="save-results-button" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg">결과 저장</button>
                <button id="retry-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg">다시 풀기</button>
                <button id="home-button" class="w-full bg-gray-500 text-white font-bold py-3 rounded-lg">처음으로</button>
            </div>
        </div>
    </div>
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transform translate-y-5"></div>
    <script>
        const vocabularyData = {
            "Unit 31": [
                { word: "society", meaning: "사회 (집단); -회(會), 협회" }, { word: "status", meaning: "1. 지위; 신분; 2. 상태, 상황" }, { word: "property", meaning: "1. 재산; 소유물; 2. 부동산; 3. 특성" }, { word: "rank", meaning: "(높은) 지위; 계급, 등급; (등급 등을) 매기다; 차지하다" }, { word: "moral", meaning: "도덕(상)의; 도덕적인; (이야기 등의) 교훈" }, { word: "obey", meaning: "따르다, 복종하다" }, { word: "possess", meaning: "소유하다, 지니다" }, { word: "responsible", meaning: "1. 책임이 있는; 책임지고 있는; 2. 책임감 있는" }, { word: "reasonable", meaning: "합리적인, 타당한" }, { word: "flexible", meaning: "1. 융통성 있는; 2. 유연한, 구부리기 쉬운" }, { word: "conscious", meaning: "1. 의식[자각]하는; 2. 의식적인" }, { word: "noble", meaning: "1. 숭고한, 고결한; 2. 귀족의" }, { word: "duty", meaning: "1. 의무; 임무; 2. (특히 수입품에 부과하는) 세금, 관세" }, { word: "donate", meaning: "기부하다, 기증하다" }, { word: "contribute", meaning: "1. 기부하다, 기증하다; 2. 기여하다" }, { word: "establish", meaning: "1. 설립하다; 2. 확립하다, 수립하다" }, { word: "willing", meaning: "기꺼이 하는; 꺼리지 않는" }, { word: "mentor", meaning: "조언자, 멘토; 조언하다" }, { word: "salary", meaning: "급여, 월급" }, { word: "voluntary", meaning: "자원 봉사의; 자발적인" }, { word: "disabled", meaning: "장애를 가진" }, { word: "charity", meaning: "자선 (단체)" }, { word: "cooperate", meaning: "협력하다, 협동하다" }, { word: "distribute", meaning: "분배하다, 나누어 주다" }, { word: "expenditure", meaning: "비용, 경비; 지출" }, { word: "expand", meaning: "확장하다, 확대시키다" }, { word: "expend", meaning: "(시간, 노력 등을) 들이다, 소비하다" }, { word: "diary", meaning: "일기" }, { word: "daily", meaning: "매일의; 매일, 날마다; 일간 신문" }, { word: "dairy", meaning: "유제품; 1. 유제품의; 2. 낙농의" }
            ],
            "Unit 32": [
                { word: "democracy", meaning: "민주주의; 민주(주의) 국가" }, { word: "communism", meaning: "공산주의" }, { word: "capitalism", meaning: "자본주의" }, { word: "socialism", meaning: "사회주의" }, { word: "republic", meaning: "공화국" }, { word: "government", meaning: "정부, 정권; 통치 (체제)" }, { word: "parliament", meaning: "국회, 의회" }, { word: "committee", meaning: "위원회" }, { word: "council", meaning: "(지방 자치 단체의) 의회; 협의회" }, { word: "union", meaning: "1. (국가 등의) 연합, 연방; 2. 조합, 협회; 3. 결합, 통합" }, { word: "politician", meaning: "정치인" }, { word: "minister", meaning: "1. 장관; 2. 목사, 성직자" }, { word: "representative", meaning: "1. 대표(자); 2. 대리인; 대표하는; 상징하는" }, { word: "spokesperson", meaning: "대변인" }, { word: "candidate", meaning: "후보자, 지원자" }, { word: "announce", meaning: "1. 발표하다, 알리다; 2. 선언하다" }, { word: "remark", meaning: "발언, 언급; 발언하다, 언급하다" }, { word: "controversy", meaning: "논란, 논쟁" }, { word: "oppose", meaning: "1. (계획, 정책 등에) 반대하다; 2. 겨루다; 대항하다" }, { word: "poll", meaning: "1. 여론 조사; 2. 투표" }, { word: "tax", meaning: "세금; 세금을 부과하다" }, { word: "nationality", meaning: "1. 국적; 2. 민족" }, { word: "military", meaning: "군대, 군사; 군대의, 군사의" }, { word: "patriot", meaning: "애국자" }, { word: "aboard", meaning: "~에 탄, ~에 탑승한; 탄, 탑승한" }, { word: "abroad", meaning: "해외에(서), 해외로" }, { word: "quite", meaning: "1. 꽤, 상당히; 2. 완전히, 전적으로" }, { word: "quiet", meaning: "조용한, 고요한" }, { word: "wind", meaning: "바람; 1. 감다, 휘감다; 2. (도로, 강 등이) 굽이치다" }, { word: "wound", meaning: "상처, 부상; 상처[부상]를 입히다" }
            ],
            "Unit 33": [
                { word: "ancestor", meaning: "조상, 선조" }, { word: "provide", meaning: "제공하다, 공급하다" }, { word: "outfit", meaning: "옷, 복장; 채비하다, 공급하다" }, { word: "fabric", meaning: "천, 직물" }, { word: "experienced", meaning: "능숙한, 경험이 있는" }, { word: "boast", meaning: "자랑하다, 과시하다; 자랑" }, { word: "ordinary", meaning: "보통의, 일반적인" }, { word: "opportunity", meaning: "기회" }, { word: "entail", meaning: "(~을) 수반하다, 포함하다" }, { word: "manufacture", meaning: "제조하다, 생산하다; 제조, 생산" }, { word: "complicated", meaning: "복잡한; 이해하기 어려운" }, { word: "enable", meaning: "(~을) 가능하게 하다, 할 수 있게 하다" }, { word: "attractive", meaning: "매력적인, 멋진" }, { word: "strain", meaning: "부담, 압박(감)" }, { word: "crucial", meaning: "중대한, 결정적인" }, { word: "vary", meaning: "1. 각기 다르다, 가지각색이다; 2. 바꾸다, 변화하다" }, { word: "reflection", meaning: "1. 반사; 반영; 2. 심사숙고" }, { word: "intrigue", meaning: "호기심을 자극하다" }, { word: "thrive", meaning: "1. 번창하다, 번성하다; 2. (사람, 동식물이) 잘 자라다" }, { word: "hazard", meaning: "위험 (요소)" }, { word: "supply", meaning: "공급; 공급하다" }, { word: "remove", meaning: "1. 제거하다; 치우다; 2. 옮기다, 이동시키다" }, { word: "vast", meaning: "어마어마한, 방대한" }, { word: "chemical", meaning: "화학 물질; 화학의, 화학적인" }, { word: "secondhand", meaning: "1. 중고(품)의; 2. 간접의; 전해 들은" }, { word: "though", meaning: "~에도 불구하고, (비록) ~이긴 하지만; 그러나, 그래도" }, { word: "thorough", meaning: "완전한, 철저한" }, { word: "through", meaning: "1. ~을 통해, ~을 통과하여; 2. ~동안 내내; 1. 관통하여; 직행의; 2. 내내, 줄곧" }, { word: "wander", meaning: "(이리저리) 돌아다니다, 헤매다" }, { word: "wonder", meaning: "1. 궁금하다; 2. (크게) 놀라다, 감탄하다; 감탄; 불가사의" }
            ],
            "Unit 34": [
                { word: "artificial", meaning: "1. 인공의, 인조의; 인위적인; 2. 거짓된" }, { word: "machinery", meaning: "기계류" }, { word: "concern", meaning: "1. 관련이 있다, 관련시키다; 2. 걱정스럽게 하다; 3. 관심을 갖다; 1. 걱정; 2. 관심" }, { word: "ease", meaning: "1. 편안함; 2. 쉬움, 용이함; (고통 등을) 덜어 주다; 편하게 하다" }, { word: "equipment", meaning: "장비, 장치; 설비" }, { word: "independent", meaning: "독립적인, 자립적인; 독립된" }, { word: "threat", meaning: "위협; 협박" }, { word: "replace", meaning: "대체하다, 대신하다; 교체하다" }, { word: "influence", meaning: "영향을 주다; 영향(력)" }, { word: "frightening", meaning: "두려운, 무서운" }, { word: "continuous", meaning: "1. 계속되는, 지속적인; 2. (선 등이) 계속 이어지는" }, { word: "identify", meaning: "1. (신원 등을) 확인하다; 2. 발견하다, 찾다" }, { word: "imitate", meaning: "모방하다, 흉내 내다" }, { word: "express", meaning: "표현하다, 나타내다; 급행의; 신속한; 급행" }, { word: "operate", meaning: "1. (기계 등이) 작동하다; 2. (제도, 사업체 등을) 운영하다; 3. 수술하다" }, { word: "automatic", meaning: "1. 자동의; 2. 무의식적인, 반사적인" }, { word: "predict", meaning: "예측하다, 예견하다" }, { word: "analyze / analyse", meaning: "분석하다" }, { word: "widespread", meaning: "광범위한, 널리 퍼진" }, { word: "numerous", meaning: "많은, 다수의" }, { word: "household", meaning: "가정, 가구, 세대" }, { word: "standard", meaning: "기준, 표준; 1. 기준의, 표준의; 2. 일반적인" }, { word: "link", meaning: "연결하다; 관련되다; 1. 연결; 관련; 2. 관계, 유대" }, { word: "education", meaning: "교육" }, { word: "bald", meaning: "1. 대머리의; 민둥민둥한; 2. 꾸밈없는; 노골적인" }, { word: "bold", meaning: "1. 용감한, 대담한; 2. (선 등이) 굵은, 선명한; 볼드체의" }, { word: "access", meaning: "접근 (방법); 입구, 통로; 접근하다; 들어가다" }, { word: "assess", meaning: "(가치, 자질 등을) 평가하다, 재다" }, { word: "personal", meaning: "개인의, 개인적인; 사적인" }, { word: "personnel", meaning: "(조직의) 직원, 인원" }
            ],
            "Unit 35": [
                { word: "personality", meaning: "성격, 개성; 인격" }, { word: "positive", meaning: "1. 긍정적인; 2. 확신하는" }, { word: "challenge", meaning: "도전; 1. 도전하다; 2. 이의를 제기하다" }, { word: "brilliant", meaning: "1. 뛰어난; 명석한; 2. 빛나는, 찬란한" }, { word: "passionate", meaning: "열정적인, 열렬한" }, { word: "leisure", meaning: "여가, 한가한 시간" }, { word: "easygoing", meaning: "느긋한, 태평스러운" }, { word: "outgoing", meaning: "외향적인, 사교적인" }, { word: "impression", meaning: "인상, 느낌; 감명" }, { word: "absent-minded", meaning: "(딴 데 정신이 팔려) 정신이 없는, 멍한; 건망증이 심한" }, { word: "misunderstand", meaning: "오해하다" }, { word: "furious", meaning: "1. 몹시 화가 난, 격노한; 2. (폭풍우 등이) 사나운, 맹렬한" }, { word: "doubt", meaning: "의심, 의혹; 의심하다, 의혹을 품다" }, { word: "helpless", meaning: "무력한; (감정을) 억누를 수 없는" }, { word: "jealous", meaning: "질투하는, 시기하는" }, { word: "hostile", meaning: "1. 적대적인; 2. 반대하는" }, { word: "conflict", meaning: "갈등, 충돌; 상충하다, 모순되다" }, { word: "appropriate", meaning: "적절한" }, { word: "honesty", meaning: "정직(성), 솔직함" }, { word: "adjust", meaning: "1. 조정하다, 조절하다; 2. (~에) 적응하다" }, { word: "generous", meaning: "1. 관대한; 2. 후한, 아끼지 않는" }, { word: "ridiculous", meaning: "우스꽝스러운; 터무니없는" }, { word: "gentle", meaning: "1. 상냥한; 점잖은; 2. (자연 현상이) 부드러운, 온화한" }, { word: "gradual", meaning: "점진적인, 서서히 일어나는" }, { word: "assist", meaning: "돕다, 원조하다" }, { word: "trust", meaning: "신뢰하다, 믿다; 신뢰" }, { word: "neglect", meaning: "1. 무시하다, 등한시하다; 2. (해야 할 일을) 하지 않다; 1. 무시; 2. 태만" }, { word: "rely", meaning: "의지하다, 믿다" }, { word: "root", meaning: "1. 뿌리; 뿌리를 내리다; 2. 근원, 기원; 깊이 뿌리박게 하다; 3. 근본; 조상; 4. 어근" }, { word: "course", meaning: "1. 과정, 경과, 전개; 2. 강의, 강좌; 3. 항로, 진로; 4. (식사) 코스, 요리; 5. 코스" }
            ],
            "Unit 36": [
                { word: "senior", meaning: "1. 연장(年長)자; 2. 상급자; 3. 졸업반 학생; 1. 손위의; 2. 상급의, 상위의; 3. 졸업반 학생의" }, { word: "elder", meaning: "나이가 더 많은 사람, 연장자; (가족 구성원 중에) 나이가 더 많은, 손위의" }, { word: "wear", meaning: "1. (옷, 신발 등을) 입고[착용하고] 있다; 2. 낡다, 닳다" }, { word: "interrupt", meaning: "방해하다; (흐름 등을) 끊다, 중단시키다" }, { word: "frown", meaning: "눈살을 찌푸리다, 얼굴을 찡그리다" }, { word: "bump", meaning: "부딪치다; 1. 충돌; 쿵 (하는 소리); 2. (이마 등의) 혹; 튀어나온 부분" }, { word: "aisle", meaning: "통로" }, { word: "formal", meaning: "격식을 차린, 공식적인" }, { word: "annoy", meaning: "짜증 나게 하다, 귀찮게 하다" }, { word: "stare", meaning: "빤히 쳐다보다, 응시하다; 응시" }, { word: "funeral", meaning: "장례식; 장례식의" }, { word: "permit", meaning: "허락하다, 가능케 하다; 허가(증)" }, { word: "belongings", meaning: "소지품; 소유물, 재산" }, { word: "differ", meaning: "1. 다르다; 2. 의견이 다르다" }, { word: "define", meaning: "1. 정의하다; 2. (입장 등을) 밝히다; 3. (경계, 범위 등을) 정하다" }, { word: "insult", meaning: "모욕, 무례; 모욕하다" }, { word: "clap", meaning: "박수를 치다; 박수 (소리)" }, { word: "bless", meaning: "축복하다, (신의) 가호를 빌다" }, { word: "sneeze", meaning: "재채기하다; 재채기" }, { word: "religion", meaning: "종교; 신앙(심)" }, { word: "cherish", meaning: "1. 소중히 여기다; 2. (마음속에) 간직하다, 품다" }, { word: "accept", meaning: "받아들이다, 수락하다" }, { word: "dislike", meaning: "싫어하다; 반감, 혐오" }, { word: "reject", meaning: "거절하다, 거부하다" }, { word: "cause", meaning: "일으키다, 초래하다; 원인, 이유" }, { word: "mislead", meaning: "잘못 이끌다; 오해하게 하다" }, { word: "cheek", meaning: "볼, 뺨" }, { word: "administer", meaning: "1. 관리하다, 운영하다; 2. (공정하게) 집행하다, 시행하다; 3. (타격을) 가하다, 치다; 4. 투여하다" }, { word: "conduct", meaning: "1. 수행하다, 처리하다; 수행, 처리; 2. 행동하다, 처신하다; 행동; 3. 지휘하다; 4. 전도하다" }, { word: "blow", meaning: "1. (입으로) 불다; (입김에) 날리다; 2. (관악기 등을) 불다; (관악기 등이) 울리다, 소리내다; 3. (바람이) 불다; (바람에) 날리다; 강풍; 4. (폭탄 등으로) 날려버리다, 폭파하다; 5. (손, 무기 등으로) 세게 때림, 타격; (정신적) 충격" }
            ],
            "Unit 37": [
                { word: "career", meaning: "(전문적인) 직업; 경력" }, { word: "inherit", meaning: "1. (재산, 업무 등을) 상속받다; 2. (유전적으로) 물려받다" }, { word: "specialize", meaning: "전문으로 하다, 전공하다" }, { word: "profession", meaning: "직업; 전문직" }, { word: "client", meaning: "(전문가의 서비스를 받는) 의뢰인, 고객" }, { word: "statistic", meaning: "통계(학); 통계 자료" }, { word: "architect", meaning: "건축가, 설계자" }, { word: "psychologist", meaning: "심리학자" }, { word: "accountant", meaning: "회계사, 회계원" }, { word: "consult", meaning: "상담하다, 상의하다" }, { word: "counselor / counsellor", meaning: "상담사, 카운슬러" }, { word: "rescue", meaning: "구조하다; 구출하다; 구조; 구출" }, { word: "mechanic", meaning: "정비사, 수리공" }, { word: "technician", meaning: "(기계 등의) 기술자, 전문가" }, { word: "broadcaster", meaning: "방송인, 방송 진행자; 방송국" }, { word: "compose", meaning: "1. 작곡하다; 2. 쓰다, 작성하다; 3. 구성하다" }, { word: "criticize / criticise", meaning: "비평하다, 비판하다; 비난하다" }, { word: "translate", meaning: "번역하다, 통역하다" }, { word: "author", meaning: "작가, 저자; 쓰다, 저술하다" }, { word: "essay", meaning: "수필; (짧은 논문식) 과제물, 리포트" }, { word: "deal", meaning: "1. 다루다, 취급하다; 2. 거래하다; 1. 취급; 2. 거래; 3. 많음, 다량" }, { word: "fiction", meaning: "소설; 꾸며낸 이야기, 허구" }, { word: "conference", meaning: "(규모가 큰) 회의, 회담" }, { word: "insight", meaning: "통찰력; 이해, 간파" }, { word: "contract", meaning: "계약(서); 1. 계약하다; 2. 수축하다; 3. (병에) 걸리다" }, { word: "editor", meaning: "(신문, 잡지 등의) 편집장; 편집자" }, { word: "poet", meaning: "시인" }, { word: "agency", meaning: "1. 대행사, 대리점; 2. 중개(소), 소개소; 3. (정부) 기관, -청, -국" }, { word: "quarter", meaning: "1. 4분의 1; 4등분하다; 2. 15분; 3. 25센트; 4. 분기" }, { word: "work", meaning: "1. 일하다, 작업하다; 일, 작업; 직장; 2. 작동하다; 3. 효과가 있다; 4. 노력하다; 노력" }
            ],
            "Unit 38": [
                { word: "infant", meaning: "아기, 유아" }, { word: "object", meaning: "1. 물체, 사물; 2. 목표, 목적; 반대하다" }, { word: "gain", meaning: "획득하다, 얻다; 이익; 증가" }, { word: "lifelong", meaning: "평생 동안의, 일생의" }, { word: "physical", meaning: "1. 신체의, 육체의; 2. 물리적인, 물질적인" }, { word: "undergo", meaning: "겪다, 경험하다" }, { word: "neural", meaning: "신경의, 신경계의" }, { word: "crawl", meaning: "(엎드려) 기다, 기어가다; 기어가기; 서행" }, { word: "grasp", meaning: "1. 꽉 잡다; 2. 완전히 이해하다; 1. 움켜잡기; 2. 이해" }, { word: "cognitive", meaning: "인지의, 인식의" }, { word: "emotional", meaning: "정서적인, 감정적인" }, { word: "dedication", meaning: "전념, 헌신" }, { word: "nutrition", meaning: "영양 (섭취)" }, { word: "delay", meaning: "1. 지연, 지체; 2. 연기; 1. 지연시키다, 지체시키다; 2. 연기하다, 미루다" }, { word: "deficit", meaning: "결핍, 부족; 적자" }, { word: "lack", meaning: "(~이) 부족하다, 없다; 부족, 결핍" }, { word: "intake", meaning: "섭취(량), 흡입" }, { word: "interact", meaning: "상호 작용하다; 소통하다" }, { word: "secure", meaning: "1. 안심하는; 2. 안전한, 안정된; 1. 안전하게 하다; 2. (힘겹게) 얻어 내다; 3. 고정하다" }, { word: "praise", meaning: "칭찬; 칭찬하다" }, { word: "shame", meaning: "1. 수치심, 부끄러움; 2. 아쉬운[애석한] 일" }, { word: "verbal", meaning: "언어의, 말로 된" }, { word: "inspire", meaning: "1. 격려하다; 2. 영감을 주다, (감정 등을) 불어넣다" }, { word: "attention", meaning: "1. 주의, 주목; 2. 관심, 흥미" }, { word: "attitude", meaning: "태도; 자세" }, { word: "regulate", meaning: "통제하다, 규제하다" }, { word: "manner", meaning: "방식, 태도" }, { word: "manners", meaning: "1. 예절, 예의; 2. 풍습, 관습" }, { word: "mean", meaning: "의미하다" }, { word: "means", meaning: "수단, 방법" }
            ],
            "Unit 39": [
                { word: "appoint", meaning: "1. (시간, 장소 등을) 정하다; 2. 임명하다, 지명하다" }, { word: "persist", meaning: "(끈질기게) 계속하다; 지속되다" }, { word: "nonsense", meaning: "터무니없는 생각, 허튼소리" }, { word: "belief", meaning: "믿음, 신념; 확신" }, { word: "inner", meaning: "내면의; 내부의" }, { word: "fundamental", meaning: "근본적인; 핵심적인, 필수적인" }, { word: "pray", meaning: "기도하다; 빌다" }, { word: "quit", meaning: "그만두다, 중지하다" }, { word: "core", meaning: "1. 핵심; 2. (사물의) 중심부; (지구의) 중심핵; 핵심적인, 가장 중요한" }, { word: "strategy", meaning: "전략, 계획" }, { word: "limitation", meaning: "한계, 제한; 규제, 제약" }, { word: "instant", meaning: "즉각적인; 즉석의; 즉시; 순간" }, { word: "holy", meaning: "신성한, 성스러운" }, { word: "inward", meaning: "1. 내부의; 2. 마음속의; 1. 내부로; 2. 마음속으로" }, { word: "heal", meaning: "치유되다, 치유하다" }, { word: "trail", meaning: "1. 흔적, 자취; 2. 오솔길" }, { word: "courage", meaning: "용기, 배짱" }, { word: "dare", meaning: "(~할) 용기가 있다; 감히 ~하다" }, { word: "venture", meaning: "(위험을 무릅쓰고) 하다; 모험; 벤처 (사업)" }, { word: "worth", meaning: "가치가 있는; 가치, 진가" }, { word: "pursue", meaning: "1. 추구하다; 2. 뒤쫓다, 추적하다" }, { word: "destiny", meaning: "운명, 숙명" }, { word: "despair", meaning: "절망하다, 체념하다; 절망, 체념" }, { word: "bitter", meaning: "1. (맛이) 쓴; 2. 고통스러운, 쓰라린; 3. (날씨가) 혹독한, 매서운" }, { word: "reveal", meaning: "드러내다, 밝히다" }, { word: "harbor / harbour", meaning: "항구; 1. (항구에) 정박하다; 2. (생각 등을) 품다" }, { word: "custom", meaning: "풍습, 관습; 습관" }, { word: "customs", meaning: "1. 관세; 2. 세관" }, { word: "remain", meaning: "1. 남아 있다; 2. 여전히 ~이다" }, { word: "remains", meaning: "1. 남은 것, 나머지; 2. 유적" }
            ],
            "Unit 40": [
                { word: "prompt", meaning: "즉각적인, 신속한; 촉발하다, 유도하다" }, { word: "spread", meaning: "1. 퍼지다, 확산되다; 2. 펴다, 펼치다; 확산" }, { word: "response", meaning: "1. 반응; 2. 대답, 응답" }, { word: "disaster", meaning: "1. 재해, 재앙; 불행; 2. (큰) 실패" }, { word: "marvel", meaning: "놀라다, 경이로워하다; 놀라운 일[사람]" }, { word: "fascinate", meaning: "매혹하다, 매료하다" }, { word: "complex", meaning: "복잡한; 1. 복합 건물, (건물) 단지; 2. 콤플렉스; 강박 관념" }, { word: "journal", meaning: "1. 일기; 2. (특정 분야의) 잡지, 정기 간행물" }, { word: "distant", meaning: "1. 먼; 동떨어진; 2. 거리를 두는, 냉담한" }, { word: "obstacle", meaning: "장애(물)" }, { word: "peer", meaning: "또래; 유심히 보다, 응시하다" }, { word: "fame", meaning: "명성, 평판" }, { word: "precise", meaning: "정확한" }, { word: "significant", meaning: "1. 중대한, 중요한; 2. (양이나 정도가) 상당한" }, { word: "alarm", meaning: "1. 불안, 공포; 2. 경보(기), 자명종; 1. 불안하게 만들다; 2. 위급을 알리다" }, { word: "nightmare", meaning: "악몽; 악몽 같은 일" }, { word: "irony", meaning: "1. 아이러니, 역설적인 상황; 2. 반어(법), 비꼼" }, { word: "proper", meaning: "적절한, 올바른" }, { word: "distinguish", meaning: "1. 구별하다; 2. 식별하다, 감지하다; 3. 유명하게 하다" }, { word: "criminal", meaning: "범인, 범죄자; 범죄의; 형사상의" }, { word: "obtain", meaning: "얻다, 구하다" }, { word: "caution", meaning: "경고하다, 주의시키다; 경고, 주의; 조심" }, { word: "immediate", meaning: "1. 즉각적인; 2. 직접적인" }, { word: "envy", meaning: "부러워하다; 부러움, 질투" }, { word: "disgust", meaning: "혐오감을 주다; 혐오감, 역겨움" }, { word: "mind", meaning: "언짢아하다, 꺼리다; 마음, 정신" }, { word: "spectacle", meaning: "장관, 놀라운 광경" }, { word: "spectacles", meaning: "안경" }, { word: "sometime", meaning: "(미래의) 언젠가; (과거의) 언젠가, 어떤 때" }, { word: "sometimes", meaning: "때때로, 가끔" }
            ]
        };
        // --- 이하 스크립트 코드는 이전 앱들과 동일 ---
        let userInfo = {};
        let currentUnit='',questions=[],currentQuestionIndex=0,userAnswers=[],timerInterval;
        const userInfoScreen = document.getElementById('user-info-screen');
        const unitSelectionScreen=document.getElementById('unit-selection-screen');
        const testScreen=document.getElementById('test-screen');
        const resultsScreen=document.getElementById('results-screen');
        const schoolInput = document.getElementById('school-input');
        const gradeInput = document.getElementById('grade-input');
        const nameInput = document.getElementById('name-input');
        const startAppButton = document.getElementById('start-app-button');
        const unitButtonsContainer=document.getElementById('unit-buttons');
        const testTitle=document.getElementById('test-title');
        const timerDisplay=document.getElementById('timer');
        const progressBar=document.getElementById('progress-bar');
        const progressText=document.getElementById('progress-text');
        const questionType=document.getElementById('question-type');
        const questionEl=document.getElementById('question');
        const answerInput=document.getElementById('answer-input');
        const nextButton=document.getElementById('next-button');
        const finalScore=document.getElementById('final-score');
        const incorrectAnswersBody=document.getElementById('incorrect-answers-body');
        const saveResultsButton=document.getElementById('save-results-button');
        const retryButton=document.getElementById('retry-button');
        const homeButton=document.getElementById('home-button');
        
        function init(){
            Object.keys(vocabularyData).sort((a,b)=>parseInt(a.match(/\d+/)[0])-parseInt(b.match(/\d+/)[0])).forEach(unit=>{const button=document.createElement('button');button.textContent=unit;button.className='bg-white text-gray-700 font-semibold py-4 px-2 rounded-lg shadow hover:bg-gray-200 border border-gray-200 transition-all duration-200';button.onclick=()=>startTest(unit);unitButtonsContainer.appendChild(button)});
            startAppButton.addEventListener('click', startApp);
            nextButton.addEventListener('click',handleNext);
            answerInput.addEventListener('keyup',e=>{if(e.key==='Enter'){handleNext()}});
            retryButton.addEventListener('click',()=>startTest(currentUnit));
            homeButton.addEventListener('click',()=>showScreen(unitSelectionScreen));
            saveResultsButton.addEventListener('click',saveResults);
            showScreen(userInfoScreen);
        }

        function startApp() {
            const school = schoolInput.value.trim();
            const grade = gradeInput.value.trim();
            const name = nameInput.value.trim();
            if (!school || !grade || !name) {
                showToast("모든 정보를 입력해주세요.");
                return;
            }
            userInfo = { school, grade, name };
            showScreen(unitSelectionScreen);
        }

        function showScreen(screen){
            [userInfoScreen, unitSelectionScreen,testScreen,resultsScreen].forEach(s=>s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        async function saveResults(){
            const score=finalScore.textContent;
            let title = `${userInfo.school} ${userInfo.grade}학년 ${userInfo.name}의 ${currentUnit} 시험지`;
            let resultsText = `${title}\n\n총점: ${score}점\n\n--- 틀린 문제 목록 ---\n`;
            const incorrectRows=incorrectAnswersBody.querySelectorAll('tr');
            if(incorrectRows.length===1&&incorrectRows[0].children[0].colSpan===4){
                resultsText+="틀린 문제가 없습니다."
            } else {
                incorrectRows.forEach(row=>{
                    const cells=row.querySelectorAll('td');
                    resultsText+=`문제: ${cells[0].textContent}\n`;
                    resultsText+=`제출 답: ${cells[1].textContent}\n`;
                    resultsText+=`정답: ${cells[2].textContent}\n`;
                    resultsText+=`점수: ${cells[3].textContent}\n\n`;
                });
            }
            try{
                await navigator.clipboard.writeText(resultsText.trim());
                showToast('시험 결과가 클립보드에 복사되었습니다.');
            } catch(err) {
                console.error('클립보드 복사 실패:',err);
                showToast('결과 복사에 실패했습니다.');
            }
        }
        
        function startTest(unit){currentUnit=unit;let unitWords=[...vocabularyData[unit]];questions=[];userAnswers=[];currentQuestionIndex=0;unitWords.sort(()=>0.5-Math.random());const numQuestions=Math.min(20,unitWords.length);const selectedWords=unitWords.slice(0,numQuestions);const half=Math.ceil(numQuestions/2);for(let i=0;i<numQuestions;i++){const wordData=selectedWords[i];const type=i<half?'spelling':'meaning';questions.push({type:type,word:wordData.word,meaning:wordData.meaning,originalQuestion:type==='spelling'?wordData.meaning:wordData.word})}
        questions.sort(()=>0.5-Math.random());testTitle.textContent=`${unit} 단어 시험`;showScreen(testScreen);displayQuestion();startTimer()}
        function displayQuestion(){if(currentQuestionIndex>=questions.length){submitTest();return}
        const q=questions[currentQuestionIndex];if(q.type==='spelling'){questionType.textContent='의미를 보고 철자 맞히기';questionEl.textContent=q.meaning.replace(/(\d+\.\s*)|[()]/g,'').replace(/;/g,', ')}else{questionType.textContent='철자를 보고 의미 맞히기';questionEl.textContent=q.word}
        answerInput.value='';answerInput.focus();updateProgress();if(currentQuestionIndex===questions.length-1){nextButton.textContent='채점하기'}else{nextButton.textContent='다음'}}
        function handleNext(){const answer=answerInput.value.trim();if(!answer){answerInput.classList.add('incorrect-flash');setTimeout(()=>answerInput.classList.remove('incorrect-flash'),500);return}
        userAnswers[currentQuestionIndex]=answer;const isCorrectAnswer=isAnswerInitiallyCorrect(questions[currentQuestionIndex],answer);answerInput.classList.add(isCorrectAnswer?'correct-flash':'incorrect-flash');setTimeout(()=>answerInput.classList.remove('correct-flash','incorrect-flash'),500);setTimeout(()=>{currentQuestionIndex++;displayQuestion()},300)}
        function isAnswerInitiallyCorrect(question,answer){if(question.type==='spelling'){return question.word.toLowerCase()===answer.toLowerCase()}else{const cleanCorrectAnswer=question.meaning.toLowerCase().replace(/(\d+\.\s*)|[()]/g,'');const userFirstMeaning=answer.split(/[,;]/)[0].toLowerCase().trim();return cleanCorrectAnswer.includes(userFirstMeaning)}}
        function updateProgress(){const progress=((currentQuestionIndex)/questions.length)*100;progressBar.style.width=`${progress}%`;progressText.textContent=`문제 ${currentQuestionIndex+1} / ${questions.length}`}
        function startTimer(){let timeLeft=600;timerDisplay.textContent="10:00";clearInterval(timerInterval);timerInterval=setInterval(()=>{timeLeft--;const minutes=Math.floor(timeLeft/60);const seconds=timeLeft%60;timerDisplay.textContent=`${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;if(timeLeft<=0){clearInterval(timerInterval);submitTest()}},1000)}
        function submitTest(){clearInterval(timerInterval);let totalScore=0;const incorrectAnswers=[];questions.forEach((q,index)=>{const userAnswer=userAnswers[index]||"";let score=0;if(q.type==='spelling'){score=userAnswer.toLowerCase()===q.word.toLowerCase()?100:0}else{score=calculateMeaningScore(userAnswer,q.meaning)}
        if(score<100){incorrectAnswers.push({question:q.originalQuestion,userAnswer:userAnswer||"미응답",correctAnswer:q.type==='spelling'?q.word:q.meaning,score:score})}
        totalScore+=score});const averageScore=questions.length>0?Math.round(totalScore/questions.length):0;displayResults(averageScore,incorrectAnswers)}
        function calculateMeaningScore(userAnswer,correctAnswer){const normalize=str=>str.toLowerCase().replace(/[()]/g,'').trim();const cleanCorrectAnswer=correctAnswer.replace(/\d+\.\s*/g,'').trim();const cleanUserAnswer=userAnswer.trim();if(cleanUserAnswer==="")return 0;const meaningGroups=cleanCorrectAnswer.split(';').map(g=>g.trim().split(',').map(s=>normalize(s)).filter(s=>s));const userMeanings=cleanUserAnswer.split(/[,;]/).map(m=>normalize(m)).filter(m=>m);const allPossibleCorrectMeanings=new Set(meaningGroups.flat());for(const userMeaning of userMeanings){let isMeaningValid=false;for(const correctMeaning of allPossibleCorrectMeanings){if(correctMeaning.includes(userMeaning)||userMeaning.includes(correctMeaning)){isMeaningValid=true;break}}
        if(!isMeaningValid){return 0}}
        let matchedGroupsCount=0;for(const group of meaningGroups){let isGroupMatched=false;for(const userMeaning of userMeanings){for(const similarMeaning of group){if(similarMeaning.includes(userMeaning)||userMeaning.includes(similarMeaning)){isGroupMatched=true;break}}
        if(isGroupMatched)break}
        if(isGroupMatched){matchedGroupsCount++}}
        if(meaningGroups.length===0)return 100;const matchedRatio=matchedGroupsCount/meaningGroups.length;if(matchedRatio>=1){return 100}else if(matchedRatio>=0.5){return 50}else{return 0}}
        function displayResults(score,incorrectList){finalScore.textContent=score;const scoreContainer=finalScore.parentElement;scoreContainer.className='text-5xl font-bold text-center py-8 mb-6 rounded-lg';if(score>=80){scoreContainer.classList.add('text-blue-600')}else if(score>=50){scoreContainer.classList.add('text-yellow-600')}else{scoreContainer.classList.add('text-red-600')}
        incorrectAnswersBody.innerHTML='';if(incorrectList.length===0){incorrectAnswersBody.innerHTML=`<tr><td colspan="4" class="text-center py-4 text-gray-500">틀린 문제가 없습니다! 완벽해요!</td></tr>`}else{incorrectList.forEach(item=>{const row=`<tr class="text-sm"><td class="px-4 py-3 align-top">${item.question}</td><td class="px-4 py-3 align-top text-red-600">${item.userAnswer}</td><td class="px-4 py-3 align-top text-blue-600">${item.correctAnswer}</td><td class="px-4 py-3 align-top font-semibold">${item.score}점</td></tr>`;incorrectAnswersBody.innerHTML+=row})}
        showScreen(resultsScreen)}
        function showToast(message){const toast=document.getElementById('toast');toast.textContent=message;toast.classList.remove('opacity-0','translate-y-5');setTimeout(()=>{toast.classList.add('opacity-0','translate-y-5')},2500)}
        init();
    </script>
</body>
</html>

